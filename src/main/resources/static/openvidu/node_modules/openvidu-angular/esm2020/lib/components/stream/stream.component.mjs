import { animate, style, transition, trigger } from '@angular/animations';
import { Component, ElementRef, Input, ViewChild } from '@angular/core';
import { MatMenuTrigger } from '@angular/material/menu';
import { VideoSizeIcon } from '../../models/icon.model';
import { Signal } from '../../models/signal.model';
import { ScreenType, VideoType } from '../../models/video-type.model';
import * as i0 from "@angular/core";
import * as i1 from "../../services/openvidu/openvidu.service";
import * as i2 from "../../services/layout/layout.service";
import * as i3 from "../../services/participant/participant.service";
import * as i4 from "../../services/storage/storage.service";
import * as i5 from "../../services/cdk-overlay/cdk-overlay.service";
import * as i6 from "../../services/config/openvidu-angular.config.service";
import * as i7 from "@angular/common";
import * as i8 from "@angular/forms";
import * as i9 from "@angular/material/button";
import * as i10 from "@angular/material/icon";
import * as i11 from "@angular/material/input";
import * as i12 from "@angular/material/tooltip";
import * as i13 from "@angular/flex-layout/extended";
import * as i14 from "@angular/material/menu";
import * as i15 from "../audio-wave/audio-wave.component";
import * as i16 from "../avatar-profile/avatar-profile.component";
import * as i17 from "../video/video.component";
import * as i18 from "../../pipes/translate.pipe";
/**
 * The **StreamComponent** is hosted inside of the {@link LayoutComponent}.
 * It is in charge of displaying the participant video stream in the videoconference layout.
 *
 * <div class="custom-table-container">
 * <div>
 *  <h3>API Directives</h3>
 *
 * This component allows us to show or hide certain HTML elements with the following {@link https://angular.io/guide/attribute-directives Angular attribute directives}
 * with the aim of fully customizing the StreamComponent.
 *
 * | **Parameter**                  | **Type**  | **Reference**                                   |
 * | :----------------------------: | :-------: | :---------------------------------------------: |
 * | **displayParticipantName**   | `boolean` | {@link StreamDisplayParticipantNameDirective}   |
 * | **displayAudioDetection**    | `boolean` | {@link StreamDisplayAudioDetectionDirective}    |
 * | **settingsButton**          | `boolean` | {@link StreamSettingsButtonDirective}           |
 *
 * <p class="component-link-text">
 * <span class="italic">See all {@link ApiDirectiveModule API Directives}</span>
 * </p>
 * </div>
 *
 * <div>
 * <h3>OpenVidu Angular Directives</h3>
 *
 * The StreamComponent can be replaced with a custom component. It provides us the following {@link https://angular.io/guide/structural-directives Angular structural directives}
 * for doing this.
 *
 * |            **Directive**           |                 **Reference**                 |
 * |:----------------------------------:|:---------------------------------------------:|
 * |           ***ovStream**           |            {@link StreamDirective}           |
 *
 * <p class="component-link-text">
 * 	<span class="italic">See all {@link OpenViduAngularDirectiveModule OpenVidu Angular Directives}</span>
 * </p>
 * </div>
 *
 * </div>
 */
export class StreamComponent {
    /**
     * @ignore
     */
    constructor(openviduService, layoutService, participantService, storageService, cdkSrv, libService) {
        this.openviduService = openviduService;
        this.layoutService = layoutService;
        this.participantService = participantService;
        this.storageService = storageService;
        this.cdkSrv = cdkSrv;
        this.libService = libService;
        /**
         * @ignore
         */
        this.videoSizeIconEnum = VideoSizeIcon;
        /**
         * @ignore
         */
        this.videoTypeEnum = VideoType;
        /**
         * @ignore
         */
        this.videoSizeIcon = VideoSizeIcon.BIG;
        /**
         * @ignore
         */
        this.isMinimal = false;
        /**
         * @ignore
         */
        this.showNickname = true;
        /**
         * @ignore
         */
        this.showAudioDetection = true;
        /**
         * @ignore
         */
        this.showSettingsButton = true;
    }
    /**
     * @ignore
     */
    set streamContainer(streamContainer) {
        setTimeout(() => {
            if (streamContainer) {
                this._streamContainer = streamContainer;
                // This is a workaround for fixing a layout bug which provide a bad UX with each new elements created.
                setTimeout(() => {
                    this.showVideo = true;
                }, 100);
            }
        }, 0);
    }
    set stream(stream) {
        this._stream = stream;
        this.checkVideoEnlarged();
        if (this._stream.participant) {
            this.nickname = this._stream.participant.nickname;
        }
    }
    /**
     * @ignore
     */
    set nicknameInputElement(element) {
        setTimeout(() => {
            element?.nativeElement.focus();
        });
    }
    ngOnInit() {
        this.subscribeToStreamDirectives();
    }
    ngOnDestroy() {
        this.cdkSrv.setSelector('body');
        if (this.settingsButtonSub)
            this.settingsButtonSub.unsubscribe();
        if (this.displayAudioDetectionSub)
            this.displayAudioDetectionSub.unsubscribe();
        if (this.displayParticipantNameSub)
            this.displayParticipantNameSub.unsubscribe();
        if (this.minimalSub)
            this.minimalSub.unsubscribe();
    }
    /**
     * @ignore
     */
    toggleVideoEnlarged() {
        if (!!this._stream.streamManager?.stream?.connection?.connectionId) {
            if (this.openviduService.isMyOwnConnection(this._stream.streamManager?.stream?.connection?.connectionId)) {
                this.participantService.toggleMyVideoEnlarged(this._stream.streamManager?.stream?.connection?.connectionId);
            }
            else {
                this.participantService.toggleRemoteVideoEnlarged(this._stream.streamManager?.stream?.connection?.connectionId);
            }
        }
        this.layoutService.update();
    }
    /**
     * @ignore
     */
    toggleVideoMenu(event) {
        if (this.menuTrigger.menuOpen) {
            this.menuTrigger.closeMenu();
            return;
        }
        this.cdkSrv.setSelector('#container-' + this._stream.streamManager?.stream?.streamId);
        this.menuTrigger.openMenu();
    }
    /**
     * @ignore
     */
    toggleMuteForcibly() {
        this.participantService.setRemoteMutedForcibly(this._stream.participant.id, !this._stream.participant.isMutedForcibly);
    }
    /**
     * @ignore
     */
    toggleNicknameForm() {
        if (this._stream?.participant?.local) {
            this.toggleNickname = !this.toggleNickname;
        }
    }
    /**
     * @ignore
     */
    updateNickname(event) {
        if (event?.keyCode === 13 || event?.type === 'focusout') {
            if (!!this.nickname) {
                this.participantService.setMyNickname(this.nickname);
                this.storageService.setNickname(this.nickname);
                this.openviduService.sendSignal(Signal.NICKNAME_CHANGED, undefined, { clientData: this.nickname });
            }
            this.toggleNicknameForm();
        }
    }
    /**
     * @ignore
     */
    async replaceScreenTrack() {
        const properties = {
            videoSource: ScreenType.SCREEN,
            publishVideo: true,
            publishAudio: !this.participantService.isMyCameraActive(),
            mirror: false
        };
        await this.openviduService.replaceTrack(VideoType.SCREEN, properties);
    }
    checkVideoEnlarged() {
        this.videoSizeIcon = this._stream.videoEnlarged ? VideoSizeIcon.NORMAL : VideoSizeIcon.BIG;
    }
    subscribeToStreamDirectives() {
        this.minimalSub = this.libService.minimalObs.subscribe((value) => {
            this.isMinimal = value;
        });
        this.displayParticipantNameSub = this.libService.displayParticipantNameObs.subscribe((value) => {
            this.showNickname = value;
            // this.cd.markForCheck();
        });
        this.displayAudioDetectionSub = this.libService.displayAudioDetectionObs.subscribe((value) => {
            this.showAudioDetection = value;
            // this.cd.markForCheck();
        });
        this.settingsButtonSub = this.libService.streamSettingsButtonObs.subscribe((value) => {
            this.showSettingsButton = value;
            // this.cd.markForCheck();
        });
    }
}
StreamComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamComponent, deps: [{ token: i1.OpenViduService }, { token: i2.LayoutService }, { token: i3.ParticipantService }, { token: i4.StorageService }, { token: i5.CdkOverlayService }, { token: i6.OpenViduAngularConfigService }], target: i0.ɵɵFactoryTarget.Component });
StreamComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.8", type: StreamComponent, selector: "ov-stream", inputs: { stream: "stream" }, viewQueries: [{ propertyName: "menuTrigger", first: true, predicate: MatMenuTrigger, descendants: true }, { propertyName: "menu", first: true, predicate: ["menu"], descendants: true }, { propertyName: "streamContainer", first: true, predicate: ["streamContainer"], descendants: true, read: ElementRef }, { propertyName: "nicknameInputElement", first: true, predicate: ["nicknameInput"], descendants: true }], ngImport: i0, template: "<div\n\t*ngIf=\"this._stream\"\n\tclass=\"OV_stream\"\n\t[ngClass]=\"{'no-size': !showVideo}\"\n\t[id]=\"'container-' + this._stream.streamManager?.stream?.streamId\"\n\t#streamContainer\n>\n\t<div *ngIf=\"!isMinimal && showNickname\" id=\"nickname-container\" class=\"nickname\" [class.fullscreen]=\"isFullscreen\">\n\t\t<div (click)=\"toggleNicknameForm()\" class=\"nicknameContainer\" selected *ngIf=\"!toggleNickname\">\n\t\t\t<span id=\"nickname\" *ngIf=\"this._stream.type === 'CAMERA'\">{{ this._stream.participant.nickname }}</span>\n\t\t\t<span id=\"nickname\" *ngIf=\"this._stream.type === 'SCREEN'\">{{ this._stream.participant.nickname }}_SCREEN</span>\n\t\t</div>\n\t\t<div *ngIf=\"toggleNickname && !this._stream.streamManager?.remote\" [class.fullscreen]=\"isFullscreen\" id=\"nickname-input-container\">\n\t\t\t<input\n\t\t\t\tmatInput\n\t\t\t\t#nicknameInput\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\tmaxlength=\"20\"\n\t\t\t\t[(ngModel)]=\"this.nickname\"\n\t\t\t\t(keypress)=\"updateNickname($event)\"\n\t\t\t\t(focusout)=\"updateNickname($event)\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n\n\t<div\n\t\t*ngIf=\"!isMinimal && showAudioDetection && _stream.type === 'CAMERA' && _stream.streamManager?.stream?.audioActive\"\n\t\tid=\"audio-wave-container\"\n\t>\n\t\t<ov-audio-wave [streamManager]=\"_stream.streamManager\"></ov-audio-wave>\n\t</div>\n\n\t<ov-avatar-profile\n\t\t@posterAnimation\n\t\t*ngIf=\"!_stream.streamManager?.stream?.videoActive && _stream.type === 'CAMERA'\"\n\t\t[name]=\"_stream.participant.nickname\"\n\t\t[color]=\"_stream.participant.colorProfile\"\n\t></ov-avatar-profile>\n\n\t<ov-video\n\t\t(dblclick)=\"toggleVideoEnlarged()\"\n\t\t[streamManager]=\"_stream.streamManager\"\n\t\t[mutedSound]=\"_stream?.participant?.isMutedForcibly\"\n\t></ov-video>\n\n\t<div class=\"status-icons\">\n\t\t<button mat-icon-button id=\"statusMic\" *ngIf=\"!this._stream.streamManager?.stream?.audioActive\" disabled>\n\t\t\t<mat-icon>mic_off</mat-icon>\n\t\t</button>\n\t</div>\n\n\t<div *ngIf=\"!isMinimal && showSettingsButton\" id=\"settings-container\" class=\"videoButtons\">\n\t\t<button mat-icon-button (click)=\"toggleVideoMenu($event)\" matTooltip=\"{{ 'STREAM.SETTINGS' | translate }}\" matTooltipPosition=\"above\" aria-label=\"Video settings menu\">\n\t\t\t<mat-icon>more_vert</mat-icon>\n\t\t</button>\n\t\t<span [matMenuTriggerFor]=\"menu\"></span>\n\t\t<mat-menu #menu=\"matMenu\" yPosition=\"above\" xPosition=\"before\">\n\t\t\t<button mat-menu-item id=\"videoZoomButton\" (click)=\"toggleVideoEnlarged()\">\n\t\t\t\t<mat-icon>{{ this.videoSizeIcon }}</mat-icon>\n\t\t\t\t<span *ngIf=\"videoSizeIcon === videoSizeIconEnum.NORMAL\">{{ 'STREAM.ZOOM_OUT' | translate }}</span>\n\t\t\t\t<span *ngIf=\"videoSizeIcon === videoSizeIconEnum.BIG\">{{ 'STREAM.ZOOM_IN' | translate }}</span>\n\t\t\t</button>\n\t\t\t<button mat-menu-item id=\"volumeButton\" *ngIf=\"!this._stream.local\" (click)=\"toggleMuteForcibly()\">\n\t\t\t\t<mat-icon *ngIf=\"!_stream.participant.isMutedForcibly\">volume_up</mat-icon>\n\t\t\t\t<span *ngIf=\"!_stream.participant.isMutedForcibly\">{{ 'STREAM.MUTE_SOUND' | translate }}</span>\n\n\t\t\t\t<mat-icon *ngIf=\"_stream.participant.isMutedForcibly\">volume_off</mat-icon>\n\t\t\t\t<span *ngIf=\"_stream.participant.isMutedForcibly\">{{ 'STREAM.UNMUTE_SOUND' | translate }}</span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tmat-menu-item\n\t\t\t\t(click)=\"replaceScreenTrack()\"\n\t\t\t\tid=\"changeScreenButton\"\n\t\t\t\t*ngIf=\"!this._stream.streamManager?.remote && this._stream.streamManager?.stream?.typeOfVideo === videoTypeEnum.SCREEN\"\n\t\t\t>\n\t\t\t\t<mat-icon>picture_in_picture</mat-icon>\n\t\t\t\t<span>{{ 'STREAM.REPLACE_SCREEN' | translate }}</span>\n\t\t\t</button>\n\t\t</mat-menu>\n\t</div>\n</div>\n", styles: [".no-size{height:0px!important;width:0px!important}.nickname{padding:0;position:absolute;z-index:999;border-radius:var(--ov-video-radius);color:var(--ov-text-color);font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif}.nicknameContainer{background-color:var(--ov-secondary-color);padding:5px;color:var(--ov-text-color);font-weight:700;border-radius:var(--ov-video-radius)}#nickname-input-container{background-color:var(--ov-secondary-color);border-radius:var(--ov-video-radius)}#closeButton{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm{padding:10px}#audio-wave-container{position:absolute;right:0;z-index:2;padding:5px}.fullscreen{top:40px}video{object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.status-icons,#settings-container{position:absolute;bottom:0;z-index:10;text-align:center}.status-icons{left:0}.status-icons button,#settings-container button{color:var(--ov-text-color);width:26px;height:26px;margin:5px;border-radius:var(--ov-buttons-radius)}.status-icons button{background-color:var(--ov-warn-color)}.status-icons .mat-icon-button,#settings-container .mat-icon-button{line-height:0px}.status-icons mat-icon,#settings-container mat-icon{font-size:18px}#settings-container{right:0}#settings-container button{background-color:var(--ov-secondary-color)}.OV_stream{width:100%;height:100%;position:relative;overflow:hidden;background-color:transparent;border-radius:var(--ov-video-radius)}input{caret-color:#fff!important}\n"], dependencies: [{ kind: "directive", type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i9.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i10.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i11.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "directive", type: i12.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "directive", type: i13.DefaultClassDirective, selector: "  [ngClass], [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],  [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],  [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]", inputs: ["ngClass", "ngClass.xs", "ngClass.sm", "ngClass.md", "ngClass.lg", "ngClass.xl", "ngClass.lt-sm", "ngClass.lt-md", "ngClass.lt-lg", "ngClass.lt-xl", "ngClass.gt-xs", "ngClass.gt-sm", "ngClass.gt-md", "ngClass.gt-lg"] }, { kind: "component", type: i14.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "component", type: i14.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i14.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "component", type: i15.AudioWaveComponent, selector: "ov-audio-wave", inputs: ["streamManager"] }, { kind: "component", type: i16.AvatarProfileComponent, selector: "ov-avatar-profile", inputs: ["name", "color"] }, { kind: "component", type: i17.VideoComponent, selector: "ov-video", inputs: ["mutedSound", "streamManager"] }, { kind: "pipe", type: i18.TranslatePipe, name: "translate" }], animations: [
        trigger('posterAnimation', [
            transition(':enter', [style({ opacity: 0 }), animate('100ms', style({ opacity: 1 }))]),
            transition(':leave', [style({ opacity: 1 }), animate('200ms', style({ opacity: 0 }))]),
        ])
    ] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ov-stream', animations: [
                        trigger('posterAnimation', [
                            transition(':enter', [style({ opacity: 0 }), animate('100ms', style({ opacity: 1 }))]),
                            transition(':leave', [style({ opacity: 1 }), animate('200ms', style({ opacity: 0 }))]),
                        ])
                    ], template: "<div\n\t*ngIf=\"this._stream\"\n\tclass=\"OV_stream\"\n\t[ngClass]=\"{'no-size': !showVideo}\"\n\t[id]=\"'container-' + this._stream.streamManager?.stream?.streamId\"\n\t#streamContainer\n>\n\t<div *ngIf=\"!isMinimal && showNickname\" id=\"nickname-container\" class=\"nickname\" [class.fullscreen]=\"isFullscreen\">\n\t\t<div (click)=\"toggleNicknameForm()\" class=\"nicknameContainer\" selected *ngIf=\"!toggleNickname\">\n\t\t\t<span id=\"nickname\" *ngIf=\"this._stream.type === 'CAMERA'\">{{ this._stream.participant.nickname }}</span>\n\t\t\t<span id=\"nickname\" *ngIf=\"this._stream.type === 'SCREEN'\">{{ this._stream.participant.nickname }}_SCREEN</span>\n\t\t</div>\n\t\t<div *ngIf=\"toggleNickname && !this._stream.streamManager?.remote\" [class.fullscreen]=\"isFullscreen\" id=\"nickname-input-container\">\n\t\t\t<input\n\t\t\t\tmatInput\n\t\t\t\t#nicknameInput\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\tmaxlength=\"20\"\n\t\t\t\t[(ngModel)]=\"this.nickname\"\n\t\t\t\t(keypress)=\"updateNickname($event)\"\n\t\t\t\t(focusout)=\"updateNickname($event)\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n\n\t<div\n\t\t*ngIf=\"!isMinimal && showAudioDetection && _stream.type === 'CAMERA' && _stream.streamManager?.stream?.audioActive\"\n\t\tid=\"audio-wave-container\"\n\t>\n\t\t<ov-audio-wave [streamManager]=\"_stream.streamManager\"></ov-audio-wave>\n\t</div>\n\n\t<ov-avatar-profile\n\t\t@posterAnimation\n\t\t*ngIf=\"!_stream.streamManager?.stream?.videoActive && _stream.type === 'CAMERA'\"\n\t\t[name]=\"_stream.participant.nickname\"\n\t\t[color]=\"_stream.participant.colorProfile\"\n\t></ov-avatar-profile>\n\n\t<ov-video\n\t\t(dblclick)=\"toggleVideoEnlarged()\"\n\t\t[streamManager]=\"_stream.streamManager\"\n\t\t[mutedSound]=\"_stream?.participant?.isMutedForcibly\"\n\t></ov-video>\n\n\t<div class=\"status-icons\">\n\t\t<button mat-icon-button id=\"statusMic\" *ngIf=\"!this._stream.streamManager?.stream?.audioActive\" disabled>\n\t\t\t<mat-icon>mic_off</mat-icon>\n\t\t</button>\n\t</div>\n\n\t<div *ngIf=\"!isMinimal && showSettingsButton\" id=\"settings-container\" class=\"videoButtons\">\n\t\t<button mat-icon-button (click)=\"toggleVideoMenu($event)\" matTooltip=\"{{ 'STREAM.SETTINGS' | translate }}\" matTooltipPosition=\"above\" aria-label=\"Video settings menu\">\n\t\t\t<mat-icon>more_vert</mat-icon>\n\t\t</button>\n\t\t<span [matMenuTriggerFor]=\"menu\"></span>\n\t\t<mat-menu #menu=\"matMenu\" yPosition=\"above\" xPosition=\"before\">\n\t\t\t<button mat-menu-item id=\"videoZoomButton\" (click)=\"toggleVideoEnlarged()\">\n\t\t\t\t<mat-icon>{{ this.videoSizeIcon }}</mat-icon>\n\t\t\t\t<span *ngIf=\"videoSizeIcon === videoSizeIconEnum.NORMAL\">{{ 'STREAM.ZOOM_OUT' | translate }}</span>\n\t\t\t\t<span *ngIf=\"videoSizeIcon === videoSizeIconEnum.BIG\">{{ 'STREAM.ZOOM_IN' | translate }}</span>\n\t\t\t</button>\n\t\t\t<button mat-menu-item id=\"volumeButton\" *ngIf=\"!this._stream.local\" (click)=\"toggleMuteForcibly()\">\n\t\t\t\t<mat-icon *ngIf=\"!_stream.participant.isMutedForcibly\">volume_up</mat-icon>\n\t\t\t\t<span *ngIf=\"!_stream.participant.isMutedForcibly\">{{ 'STREAM.MUTE_SOUND' | translate }}</span>\n\n\t\t\t\t<mat-icon *ngIf=\"_stream.participant.isMutedForcibly\">volume_off</mat-icon>\n\t\t\t\t<span *ngIf=\"_stream.participant.isMutedForcibly\">{{ 'STREAM.UNMUTE_SOUND' | translate }}</span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tmat-menu-item\n\t\t\t\t(click)=\"replaceScreenTrack()\"\n\t\t\t\tid=\"changeScreenButton\"\n\t\t\t\t*ngIf=\"!this._stream.streamManager?.remote && this._stream.streamManager?.stream?.typeOfVideo === videoTypeEnum.SCREEN\"\n\t\t\t>\n\t\t\t\t<mat-icon>picture_in_picture</mat-icon>\n\t\t\t\t<span>{{ 'STREAM.REPLACE_SCREEN' | translate }}</span>\n\t\t\t</button>\n\t\t</mat-menu>\n\t</div>\n</div>\n", styles: [".no-size{height:0px!important;width:0px!important}.nickname{padding:0;position:absolute;z-index:999;border-radius:var(--ov-video-radius);color:var(--ov-text-color);font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif}.nicknameContainer{background-color:var(--ov-secondary-color);padding:5px;color:var(--ov-text-color);font-weight:700;border-radius:var(--ov-video-radius)}#nickname-input-container{background-color:var(--ov-secondary-color);border-radius:var(--ov-video-radius)}#closeButton{position:absolute;top:-3px;right:0;z-index:999}#nicknameForm{padding:10px}#audio-wave-container{position:absolute;right:0;z-index:2;padding:5px}.fullscreen{top:40px}video{object-fit:cover;width:100%;height:100%;color:#fff;margin:0;padding:0;border:0;font-size:100%}.status-icons,#settings-container{position:absolute;bottom:0;z-index:10;text-align:center}.status-icons{left:0}.status-icons button,#settings-container button{color:var(--ov-text-color);width:26px;height:26px;margin:5px;border-radius:var(--ov-buttons-radius)}.status-icons button{background-color:var(--ov-warn-color)}.status-icons .mat-icon-button,#settings-container .mat-icon-button{line-height:0px}.status-icons mat-icon,#settings-container mat-icon{font-size:18px}#settings-container{right:0}#settings-container button{background-color:var(--ov-secondary-color)}.OV_stream{width:100%;height:100%;position:relative;overflow:hidden;background-color:transparent;border-radius:var(--ov-video-radius)}input{caret-color:#fff!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.OpenViduService }, { type: i2.LayoutService }, { type: i3.ParticipantService }, { type: i4.StorageService }, { type: i5.CdkOverlayService }, { type: i6.OpenViduAngularConfigService }]; }, propDecorators: { menuTrigger: [{
                type: ViewChild,
                args: [MatMenuTrigger]
            }], menu: [{
                type: ViewChild,
                args: ['menu']
            }], streamContainer: [{
                type: ViewChild,
                args: ['streamContainer', { static: false, read: ElementRef }]
            }], stream: [{
                type: Input
            }], nicknameInputElement: [{
                type: ViewChild,
                args: ['nicknameInput']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL29wZW52aWR1LWFuZ3VsYXIvc3JjL2xpYi9jb21wb25lbnRzL3N0cmVhbS9zdHJlYW0uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvb3BlbnZpZHUtYW5ndWxhci9zcmMvbGliL2NvbXBvbmVudHMvc3RyZWFtL3N0cmVhbS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDMUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFVLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNoRixPQUFPLEVBQWdCLGNBQWMsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBR3RFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUV4RCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRdEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBc0NHO0FBWUgsTUFBTSxPQUFPLGVBQWU7SUE4RjNCOztPQUVHO0lBQ0gsWUFDVyxlQUFnQyxFQUNoQyxhQUE0QixFQUM1QixrQkFBc0MsRUFDdEMsY0FBOEIsRUFDOUIsTUFBeUIsRUFDM0IsVUFBd0M7UUFMdEMsb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBQ2hDLGtCQUFhLEdBQWIsYUFBYSxDQUFlO1FBQzVCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFDdEMsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FB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RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUN0RixVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7eUJBQ3RGLENBQUM7cUJBQ0Y7MlFBTWlDLFdBQVc7c0JBQTVDLFNBQVM7dUJBQUMsY0FBYztnQkFLTixJQUFJO3NCQUF0QixTQUFTO3VCQUFDLE1BQU07Z0JBZ0RiLGVBQWU7c0JBRGxCLFNBQVM7dUJBQUMsaUJBQWlCLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUU7Z0JBYzdELE1BQU07c0JBRFQsS0FBSztnQkFhRixvQkFBb0I7c0JBRHZCLFNBQVM7dUJBQUMsZUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFuaW1hdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCB0cmlnZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0TWVudVBhbmVsLCBNYXRNZW51VHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL21lbnUnO1xuaW1wb3J0IHsgUHVibGlzaGVyUHJvcGVydGllcyB9IGZyb20gJ29wZW52aWR1LWJyb3dzZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBWaWRlb1NpemVJY29uIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2ljb24ubW9kZWwnO1xuaW1wb3J0IHsgU3RyZWFtTW9kZWwgfSBmcm9tICcuLi8uLi9tb2RlbHMvcGFydGljaXBhbnQubW9kZWwnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnLi4vLi4vbW9kZWxzL3NpZ25hbC5tb2RlbCc7XG5pbXBvcnQgeyBTY3JlZW5UeXBlLCBWaWRlb1R5cGUgfSBmcm9tICcuLi8uLi9tb2RlbHMvdmlkZW8tdHlwZS5tb2RlbCc7XG5pbXBvcnQgeyBDZGtPdmVybGF5U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2Nkay1vdmVybGF5L2Nkay1vdmVybGF5LnNlcnZpY2UnO1xuaW1wb3J0IHsgT3BlblZpZHVBbmd1bGFyQ29uZmlnU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NvbmZpZy9vcGVudmlkdS1hbmd1bGFyLmNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IExheW91dFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sYXlvdXQvbGF5b3V0LnNlcnZpY2UnO1xuaW1wb3J0IHsgT3BlblZpZHVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvb3BlbnZpZHUvb3BlbnZpZHUuc2VydmljZSc7XG5pbXBvcnQgeyBQYXJ0aWNpcGFudFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9wYXJ0aWNpcGFudC9wYXJ0aWNpcGFudC5zZXJ2aWNlJztcbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvc3RvcmFnZS9zdG9yYWdlLnNlcnZpY2UnO1xuXG4vKipcbiAqIFRoZSAqKlN0cmVhbUNvbXBvbmVudCoqIGlzIGhvc3RlZCBpbnNpZGUgb2YgdGhlIHtAbGluayBMYXlvdXRDb21wb25lbnR9LlxuICogSXQgaXMgaW4gY2hhcmdlIG9mIGRpc3BsYXlpbmcgdGhlIHBhcnRpY2lwYW50IHZpZGVvIHN0cmVhbSBpbiB0aGUgdmlkZW9jb25mZXJlbmNlIGxheW91dC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiY3VzdG9tLXRhYmxlLWNvbnRhaW5lclwiPlxuICogPGRpdj5cbiAqICA8aDM+QVBJIERpcmVjdGl2ZXM8L2gzPlxuICpcbiAqIFRoaXMgY29tcG9uZW50IGFsbG93cyB1cyB0byBzaG93IG9yIGhpZGUgY2VydGFpbiBIVE1MIGVsZW1lbnRzIHdpdGggdGhlIGZvbGxvd2luZyB7QGxpbmsgaHR0cHM6Ly9hbmd1bGFyLmlvL2d1aWRlL2F0dHJpYnV0ZS1kaXJlY3RpdmVzIEFuZ3VsYXIgYXR0cmlidXRlIGRpcmVjdGl2ZXN9XG4gKiB3aXRoIHRoZSBhaW0gb2YgZnVsbHkgY3VzdG9taXppbmcgdGhlIFN0cmVhbUNvbXBvbmVudC5cbiAqXG4gKiB8ICoqUGFyYW1ldGVyKiogICAgICAgICAgICAgICAgICB8ICoqVHlwZSoqICB8ICoqUmVmZXJlbmNlKiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgOi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS06IHwgOi0tLS0tLS06IHwgOi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTogfFxuICogfCAqKmRpc3BsYXlQYXJ0aWNpcGFudE5hbWUqKiAgIHwgYGJvb2xlYW5gIHwge0BsaW5rIFN0cmVhbURpc3BsYXlQYXJ0aWNpcGFudE5hbWVEaXJlY3RpdmV9ICAgfFxuICogfCAqKmRpc3BsYXlBdWRpb0RldGVjdGlvbioqICAgIHwgYGJvb2xlYW5gIHwge0BsaW5rIFN0cmVhbURpc3BsYXlBdWRpb0RldGVjdGlvbkRpcmVjdGl2ZX0gICAgfFxuICogfCAqKnNldHRpbmdzQnV0dG9uKiogICAgICAgICAgfCBgYm9vbGVhbmAgfCB7QGxpbmsgU3RyZWFtU2V0dGluZ3NCdXR0b25EaXJlY3RpdmV9ICAgICAgICAgICB8XG4gKlxuICogPHAgY2xhc3M9XCJjb21wb25lbnQtbGluay10ZXh0XCI+XG4gKiA8c3BhbiBjbGFzcz1cIml0YWxpY1wiPlNlZSBhbGwge0BsaW5rIEFwaURpcmVjdGl2ZU1vZHVsZSBBUEkgRGlyZWN0aXZlc308L3NwYW4+XG4gKiA8L3A+XG4gKiA8L2Rpdj5cbiAqXG4gKiA8ZGl2PlxuICogPGgzPk9wZW5WaWR1IEFuZ3VsYXIgRGlyZWN0aXZlczwvaDM+XG4gKlxuICogVGhlIFN0cmVhbUNvbXBvbmVudCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIGN1c3RvbSBjb21wb25lbnQuIEl0IHByb3ZpZGVzIHVzIHRoZSBmb2xsb3dpbmcge0BsaW5rIGh0dHBzOi8vYW5ndWxhci5pby9ndWlkZS9zdHJ1Y3R1cmFsLWRpcmVjdGl2ZXMgQW5ndWxhciBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZXN9XG4gKiBmb3IgZG9pbmcgdGhpcy5cbiAqXG4gKiB8ICAgICAgICAgICAgKipEaXJlY3RpdmUqKiAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgKipSZWZlcmVuY2UqKiAgICAgICAgICAgICAgICAgfFxuICogfDotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tOnw6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tOnxcbiAqIHwgICAgICAgICAgICoqKm92U3RyZWFtKiogICAgICAgICAgIHwgICAgICAgICAgICB7QGxpbmsgU3RyZWFtRGlyZWN0aXZlfSAgICAgICAgICAgfFxuICpcbiAqIDxwIGNsYXNzPVwiY29tcG9uZW50LWxpbmstdGV4dFwiPlxuICogXHQ8c3BhbiBjbGFzcz1cIml0YWxpY1wiPlNlZSBhbGwge0BsaW5rIE9wZW5WaWR1QW5ndWxhckRpcmVjdGl2ZU1vZHVsZSBPcGVuVmlkdSBBbmd1bGFyIERpcmVjdGl2ZXN9PC9zcGFuPlxuICogPC9wPlxuICogPC9kaXY+XG4gKlxuICogPC9kaXY+XG4gKi9cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ292LXN0cmVhbScsXG5cdHRlbXBsYXRlVXJsOiAnLi9zdHJlYW0uY29tcG9uZW50Lmh0bWwnLFxuXHRzdHlsZVVybHM6IFsnLi9zdHJlYW0uY29tcG9uZW50LmNzcyddLFxuXHRhbmltYXRpb25zOiBbXG5cdFx0dHJpZ2dlcigncG9zdGVyQW5pbWF0aW9uJywgW1xuXHRcdFx0dHJhbnNpdGlvbignOmVudGVyJywgW3N0eWxlKHsgb3BhY2l0eTogMCB9KSwgYW5pbWF0ZSgnMTAwbXMnLCBzdHlsZSh7IG9wYWNpdHk6IDEgfSkpXSksXG5cdFx0XHR0cmFuc2l0aW9uKCc6bGVhdmUnLCBbc3R5bGUoeyBvcGFjaXR5OiAxIH0pLCBhbmltYXRlKCcyMDBtcycsIHN0eWxlKHsgb3BhY2l0eTogMCB9KSldKSxcblx0XHRdKVxuXHRdXG59KVxuZXhwb3J0IGNsYXNzIFN0cmVhbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRAVmlld0NoaWxkKE1hdE1lbnVUcmlnZ2VyKSBwdWJsaWMgbWVudVRyaWdnZXI6IE1hdE1lbnVUcmlnZ2VyO1xuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRAVmlld0NoaWxkKCdtZW51JykgbWVudTogTWF0TWVudVBhbmVsO1xuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHR2aWRlb1NpemVJY29uRW51bSA9IFZpZGVvU2l6ZUljb247XG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHR2aWRlb1R5cGVFbnVtID0gVmlkZW9UeXBlO1xuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dmlkZW9TaXplSWNvbjogVmlkZW9TaXplSWNvbiA9IFZpZGVvU2l6ZUljb24uQklHO1xuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dG9nZ2xlTmlja25hbWU6IGJvb2xlYW47XG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRfc3RyZWFtOiBTdHJlYW1Nb2RlbDtcblx0LyoqXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdG5pY2tuYW1lOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRpc01pbmltYWw6IGJvb2xlYW4gPSBmYWxzZTtcblx0LyoqXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdHNob3dOaWNrbmFtZTogYm9vbGVhbiA9IHRydWU7XG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRzaG93QXVkaW9EZXRlY3Rpb246IGJvb2xlYW4gPSB0cnVlO1xuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0c2hvd1NldHRpbmdzQnV0dG9uOiBib29sZWFuID0gdHJ1ZTtcblx0c2hvd1ZpZGVvOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRAVmlld0NoaWxkKCdzdHJlYW1Db250YWluZXInLCB7IHN0YXRpYzogZmFsc2UsIHJlYWQ6IEVsZW1lbnRSZWYgfSlcblx0c2V0IHN0cmVhbUNvbnRhaW5lcihzdHJlYW1Db250YWluZXI6IEVsZW1lbnRSZWYpIHtcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGlmIChzdHJlYW1Db250YWluZXIpIHtcblx0XHRcdFx0dGhpcy5fc3RyZWFtQ29udGFpbmVyID0gc3RyZWFtQ29udGFpbmVyO1xuXHRcdFx0XHQvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgZml4aW5nIGEgbGF5b3V0IGJ1ZyB3aGljaCBwcm92aWRlIGEgYmFkIFVYIHdpdGggZWFjaCBuZXcgZWxlbWVudHMgY3JlYXRlZC5cblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zaG93VmlkZW8gPSB0cnVlO1xuXHRcdFx0XHR9LCAxMDApO1xuXHRcdFx0fVxuXHRcdH0sIDApO1xuXHR9XG5cblx0QElucHV0KClcblx0c2V0IHN0cmVhbShzdHJlYW06IFN0cmVhbU1vZGVsKSB7XG5cdFx0dGhpcy5fc3RyZWFtID0gc3RyZWFtO1xuXHRcdHRoaXMuY2hlY2tWaWRlb0VubGFyZ2VkKCk7XG5cdFx0aWYgKHRoaXMuX3N0cmVhbS5wYXJ0aWNpcGFudCkge1xuXHRcdFx0dGhpcy5uaWNrbmFtZSA9IHRoaXMuX3N0cmVhbS5wYXJ0aWNpcGFudC5uaWNrbmFtZTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0QFZpZXdDaGlsZCgnbmlja25hbWVJbnB1dCcpXG5cdHNldCBuaWNrbmFtZUlucHV0RWxlbWVudChlbGVtZW50OiBFbGVtZW50UmVmKSB7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRlbGVtZW50Py5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIF9zdHJlYW1Db250YWluZXI6IEVsZW1lbnRSZWY7XG5cdHByaXZhdGUgbWluaW1hbFN1YjogU3Vic2NyaXB0aW9uO1xuXHRwcml2YXRlIGRpc3BsYXlQYXJ0aWNpcGFudE5hbWVTdWI6IFN1YnNjcmlwdGlvbjtcblx0cHJpdmF0ZSBkaXNwbGF5QXVkaW9EZXRlY3Rpb25TdWI6IFN1YnNjcmlwdGlvbjtcblx0cHJpdmF0ZSBzZXR0aW5nc0J1dHRvblN1YjogU3Vic2NyaXB0aW9uO1xuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcm90ZWN0ZWQgb3BlbnZpZHVTZXJ2aWNlOiBPcGVuVmlkdVNlcnZpY2UsXG5cdFx0cHJvdGVjdGVkIGxheW91dFNlcnZpY2U6IExheW91dFNlcnZpY2UsXG5cdFx0cHJvdGVjdGVkIHBhcnRpY2lwYW50U2VydmljZTogUGFydGljaXBhbnRTZXJ2aWNlLFxuXHRcdHByb3RlY3RlZCBzdG9yYWdlU2VydmljZTogU3RvcmFnZVNlcnZpY2UsXG5cdFx0cHJvdGVjdGVkIGNka1NydjogQ2RrT3ZlcmxheVNlcnZpY2UsXG5cdFx0cHJpdmF0ZSBsaWJTZXJ2aWNlOiBPcGVuVmlkdUFuZ3VsYXJDb25maWdTZXJ2aWNlXG5cdCkge31cblxuXHRuZ09uSW5pdCgpIHtcblx0XHR0aGlzLnN1YnNjcmliZVRvU3RyZWFtRGlyZWN0aXZlcygpO1xuXHR9XG5cblx0bmdPbkRlc3Ryb3koKSB7XG5cdFx0dGhpcy5jZGtTcnYuc2V0U2VsZWN0b3IoJ2JvZHknKTtcblx0XHRpZiAodGhpcy5zZXR0aW5nc0J1dHRvblN1YikgdGhpcy5zZXR0aW5nc0J1dHRvblN1Yi51bnN1YnNjcmliZSgpO1xuXHRcdGlmICh0aGlzLmRpc3BsYXlBdWRpb0RldGVjdGlvblN1YikgdGhpcy5kaXNwbGF5QXVkaW9EZXRlY3Rpb25TdWIudW5zdWJzY3JpYmUoKTtcblx0XHRpZiAodGhpcy5kaXNwbGF5UGFydGljaXBhbnROYW1lU3ViKSB0aGlzLmRpc3BsYXlQYXJ0aWNpcGFudE5hbWVTdWIudW5zdWJzY3JpYmUoKTtcblx0XHRpZiAodGhpcy5taW5pbWFsU3ViKSB0aGlzLm1pbmltYWxTdWIudW5zdWJzY3JpYmUoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHR0b2dnbGVWaWRlb0VubGFyZ2VkKCkge1xuXHRcdGlmICghIXRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5zdHJlYW0/LmNvbm5lY3Rpb24/LmNvbm5lY3Rpb25JZCkge1xuXHRcdFx0aWYgKHRoaXMub3BlbnZpZHVTZXJ2aWNlLmlzTXlPd25Db25uZWN0aW9uKHRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5zdHJlYW0/LmNvbm5lY3Rpb24/LmNvbm5lY3Rpb25JZCkpIHtcblx0XHRcdFx0dGhpcy5wYXJ0aWNpcGFudFNlcnZpY2UudG9nZ2xlTXlWaWRlb0VubGFyZ2VkKHRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5zdHJlYW0/LmNvbm5lY3Rpb24/LmNvbm5lY3Rpb25JZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnBhcnRpY2lwYW50U2VydmljZS50b2dnbGVSZW1vdGVWaWRlb0VubGFyZ2VkKHRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5zdHJlYW0/LmNvbm5lY3Rpb24/LmNvbm5lY3Rpb25JZCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMubGF5b3V0U2VydmljZS51cGRhdGUoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHR0b2dnbGVWaWRlb01lbnUoZXZlbnQpIHtcblx0XHRpZiAodGhpcy5tZW51VHJpZ2dlci5tZW51T3Blbikge1xuXHRcdFx0dGhpcy5tZW51VHJpZ2dlci5jbG9zZU1lbnUoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5jZGtTcnYuc2V0U2VsZWN0b3IoJyNjb250YWluZXItJyArIHRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5zdHJlYW0/LnN0cmVhbUlkKTtcblx0XHR0aGlzLm1lbnVUcmlnZ2VyLm9wZW5NZW51KCk7XG5cdH1cblxuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dG9nZ2xlTXV0ZUZvcmNpYmx5KCkge1xuXHRcdHRoaXMucGFydGljaXBhbnRTZXJ2aWNlLnNldFJlbW90ZU11dGVkRm9yY2libHkodGhpcy5fc3RyZWFtLnBhcnRpY2lwYW50LmlkLCAhdGhpcy5fc3RyZWFtLnBhcnRpY2lwYW50LmlzTXV0ZWRGb3JjaWJseSk7XG5cdH1cblxuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKi9cblx0dG9nZ2xlTmlja25hbWVGb3JtKCkge1xuXHRcdGlmICh0aGlzLl9zdHJlYW0/LnBhcnRpY2lwYW50Py5sb2NhbCkge1xuXHRcdFx0dGhpcy50b2dnbGVOaWNrbmFtZSA9ICF0aGlzLnRvZ2dsZU5pY2tuYW1lO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHR1cGRhdGVOaWNrbmFtZShldmVudCkge1xuXHRcdGlmIChldmVudD8ua2V5Q29kZSA9PT0gMTMgfHwgZXZlbnQ/LnR5cGUgPT09ICdmb2N1c291dCcpIHtcblx0XHRcdGlmICghIXRoaXMubmlja25hbWUpIHtcblx0XHRcdFx0dGhpcy5wYXJ0aWNpcGFudFNlcnZpY2Uuc2V0TXlOaWNrbmFtZSh0aGlzLm5pY2tuYW1lKTtcblx0XHRcdFx0dGhpcy5zdG9yYWdlU2VydmljZS5zZXROaWNrbmFtZSh0aGlzLm5pY2tuYW1lKTtcblx0XHRcdFx0dGhpcy5vcGVudmlkdVNlcnZpY2Uuc2VuZFNpZ25hbChTaWduYWwuTklDS05BTUVfQ0hBTkdFRCwgdW5kZWZpbmVkLCB7IGNsaWVudERhdGE6IHRoaXMubmlja25hbWUgfSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRvZ2dsZU5pY2tuYW1lRm9ybSgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRhc3luYyByZXBsYWNlU2NyZWVuVHJhY2soKSB7XG5cdFx0Y29uc3QgcHJvcGVydGllczogUHVibGlzaGVyUHJvcGVydGllcyA9IHtcblx0XHRcdHZpZGVvU291cmNlOiBTY3JlZW5UeXBlLlNDUkVFTixcblx0XHRcdHB1Ymxpc2hWaWRlbzogdHJ1ZSxcblx0XHRcdHB1Ymxpc2hBdWRpbzogIXRoaXMucGFydGljaXBhbnRTZXJ2aWNlLmlzTXlDYW1lcmFBY3RpdmUoKSxcblx0XHRcdG1pcnJvcjogZmFsc2Vcblx0XHR9O1xuXHRcdGF3YWl0IHRoaXMub3BlbnZpZHVTZXJ2aWNlLnJlcGxhY2VUcmFjayhWaWRlb1R5cGUuU0NSRUVOLCBwcm9wZXJ0aWVzKTtcblx0fVxuXG5cdHByaXZhdGUgY2hlY2tWaWRlb0VubGFyZ2VkKCkge1xuXHRcdHRoaXMudmlkZW9TaXplSWNvbiA9IHRoaXMuX3N0cmVhbS52aWRlb0VubGFyZ2VkID8gVmlkZW9TaXplSWNvbi5OT1JNQUwgOiBWaWRlb1NpemVJY29uLkJJRztcblx0fVxuXG5cdHByaXZhdGUgc3Vic2NyaWJlVG9TdHJlYW1EaXJlY3RpdmVzKCkge1xuXHRcdHRoaXMubWluaW1hbFN1YiA9IHRoaXMubGliU2VydmljZS5taW5pbWFsT2JzLnN1YnNjcmliZSgodmFsdWU6IGJvb2xlYW4pID0+IHtcblx0XHRcdHRoaXMuaXNNaW5pbWFsID0gdmFsdWU7XG5cdFx0fSk7XG5cdFx0dGhpcy5kaXNwbGF5UGFydGljaXBhbnROYW1lU3ViID0gdGhpcy5saWJTZXJ2aWNlLmRpc3BsYXlQYXJ0aWNpcGFudE5hbWVPYnMuc3Vic2NyaWJlKCh2YWx1ZTogYm9vbGVhbikgPT4ge1xuXHRcdFx0dGhpcy5zaG93Tmlja25hbWUgPSB2YWx1ZTtcblx0XHRcdC8vIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5kaXNwbGF5QXVkaW9EZXRlY3Rpb25TdWIgPSB0aGlzLmxpYlNlcnZpY2UuZGlzcGxheUF1ZGlvRGV0ZWN0aW9uT2JzLnN1YnNjcmliZSgodmFsdWU6IGJvb2xlYW4pID0+IHtcblx0XHRcdHRoaXMuc2hvd0F1ZGlvRGV0ZWN0aW9uID0gdmFsdWU7XG5cdFx0XHQvLyB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuXHRcdH0pO1xuXHRcdHRoaXMuc2V0dGluZ3NCdXR0b25TdWIgPSB0aGlzLmxpYlNlcnZpY2Uuc3RyZWFtU2V0dGluZ3NCdXR0b25PYnMuc3Vic2NyaWJlKCh2YWx1ZTogYm9vbGVhbikgPT4ge1xuXHRcdFx0dGhpcy5zaG93U2V0dGluZ3NCdXR0b24gPSB2YWx1ZTtcblx0XHRcdC8vIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG5cdFx0fSk7XG5cdH1cbn1cbiIsIjxkaXZcblx0Km5nSWY9XCJ0aGlzLl9zdHJlYW1cIlxuXHRjbGFzcz1cIk9WX3N0cmVhbVwiXG5cdFtuZ0NsYXNzXT1cInsnbm8tc2l6ZSc6ICFzaG93VmlkZW99XCJcblx0W2lkXT1cIidjb250YWluZXItJyArIHRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5zdHJlYW0/LnN0cmVhbUlkXCJcblx0I3N0cmVhbUNvbnRhaW5lclxuPlxuXHQ8ZGl2ICpuZ0lmPVwiIWlzTWluaW1hbCAmJiBzaG93Tmlja25hbWVcIiBpZD1cIm5pY2tuYW1lLWNvbnRhaW5lclwiIGNsYXNzPVwibmlja25hbWVcIiBbY2xhc3MuZnVsbHNjcmVlbl09XCJpc0Z1bGxzY3JlZW5cIj5cblx0XHQ8ZGl2IChjbGljayk9XCJ0b2dnbGVOaWNrbmFtZUZvcm0oKVwiIGNsYXNzPVwibmlja25hbWVDb250YWluZXJcIiBzZWxlY3RlZCAqbmdJZj1cIiF0b2dnbGVOaWNrbmFtZVwiPlxuXHRcdFx0PHNwYW4gaWQ9XCJuaWNrbmFtZVwiICpuZ0lmPVwidGhpcy5fc3RyZWFtLnR5cGUgPT09ICdDQU1FUkEnXCI+e3sgdGhpcy5fc3RyZWFtLnBhcnRpY2lwYW50Lm5pY2tuYW1lIH19PC9zcGFuPlxuXHRcdFx0PHNwYW4gaWQ9XCJuaWNrbmFtZVwiICpuZ0lmPVwidGhpcy5fc3RyZWFtLnR5cGUgPT09ICdTQ1JFRU4nXCI+e3sgdGhpcy5fc3RyZWFtLnBhcnRpY2lwYW50Lm5pY2tuYW1lIH19X1NDUkVFTjwvc3Bhbj5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2ICpuZ0lmPVwidG9nZ2xlTmlja25hbWUgJiYgIXRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5yZW1vdGVcIiBbY2xhc3MuZnVsbHNjcmVlbl09XCJpc0Z1bGxzY3JlZW5cIiBpZD1cIm5pY2tuYW1lLWlucHV0LWNvbnRhaW5lclwiPlxuXHRcdFx0PGlucHV0XG5cdFx0XHRcdG1hdElucHV0XG5cdFx0XHRcdCNuaWNrbmFtZUlucHV0XG5cdFx0XHRcdGF1dG9jb21wbGV0ZT1cIm9mZlwiXG5cdFx0XHRcdG1heGxlbmd0aD1cIjIwXCJcblx0XHRcdFx0WyhuZ01vZGVsKV09XCJ0aGlzLm5pY2tuYW1lXCJcblx0XHRcdFx0KGtleXByZXNzKT1cInVwZGF0ZU5pY2tuYW1lKCRldmVudClcIlxuXHRcdFx0XHQoZm9jdXNvdXQpPVwidXBkYXRlTmlja25hbWUoJGV2ZW50KVwiXG5cdFx0XHQvPlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj5cblxuXHQ8ZGl2XG5cdFx0Km5nSWY9XCIhaXNNaW5pbWFsICYmIHNob3dBdWRpb0RldGVjdGlvbiAmJiBfc3RyZWFtLnR5cGUgPT09ICdDQU1FUkEnICYmIF9zdHJlYW0uc3RyZWFtTWFuYWdlcj8uc3RyZWFtPy5hdWRpb0FjdGl2ZVwiXG5cdFx0aWQ9XCJhdWRpby13YXZlLWNvbnRhaW5lclwiXG5cdD5cblx0XHQ8b3YtYXVkaW8td2F2ZSBbc3RyZWFtTWFuYWdlcl09XCJfc3RyZWFtLnN0cmVhbU1hbmFnZXJcIj48L292LWF1ZGlvLXdhdmU+XG5cdDwvZGl2PlxuXG5cdDxvdi1hdmF0YXItcHJvZmlsZVxuXHRcdEBwb3N0ZXJBbmltYXRpb25cblx0XHQqbmdJZj1cIiFfc3RyZWFtLnN0cmVhbU1hbmFnZXI/LnN0cmVhbT8udmlkZW9BY3RpdmUgJiYgX3N0cmVhbS50eXBlID09PSAnQ0FNRVJBJ1wiXG5cdFx0W25hbWVdPVwiX3N0cmVhbS5wYXJ0aWNpcGFudC5uaWNrbmFtZVwiXG5cdFx0W2NvbG9yXT1cIl9zdHJlYW0ucGFydGljaXBhbnQuY29sb3JQcm9maWxlXCJcblx0Pjwvb3YtYXZhdGFyLXByb2ZpbGU+XG5cblx0PG92LXZpZGVvXG5cdFx0KGRibGNsaWNrKT1cInRvZ2dsZVZpZGVvRW5sYXJnZWQoKVwiXG5cdFx0W3N0cmVhbU1hbmFnZXJdPVwiX3N0cmVhbS5zdHJlYW1NYW5hZ2VyXCJcblx0XHRbbXV0ZWRTb3VuZF09XCJfc3RyZWFtPy5wYXJ0aWNpcGFudD8uaXNNdXRlZEZvcmNpYmx5XCJcblx0Pjwvb3YtdmlkZW8+XG5cblx0PGRpdiBjbGFzcz1cInN0YXR1cy1pY29uc1wiPlxuXHRcdDxidXR0b24gbWF0LWljb24tYnV0dG9uIGlkPVwic3RhdHVzTWljXCIgKm5nSWY9XCIhdGhpcy5fc3RyZWFtLnN0cmVhbU1hbmFnZXI/LnN0cmVhbT8uYXVkaW9BY3RpdmVcIiBkaXNhYmxlZD5cblx0XHRcdDxtYXQtaWNvbj5taWNfb2ZmPC9tYXQtaWNvbj5cblx0XHQ8L2J1dHRvbj5cblx0PC9kaXY+XG5cblx0PGRpdiAqbmdJZj1cIiFpc01pbmltYWwgJiYgc2hvd1NldHRpbmdzQnV0dG9uXCIgaWQ9XCJzZXR0aW5ncy1jb250YWluZXJcIiBjbGFzcz1cInZpZGVvQnV0dG9uc1wiPlxuXHRcdDxidXR0b24gbWF0LWljb24tYnV0dG9uIChjbGljayk9XCJ0b2dnbGVWaWRlb01lbnUoJGV2ZW50KVwiIG1hdFRvb2x0aXA9XCJ7eyAnU1RSRUFNLlNFVFRJTkdTJyB8IHRyYW5zbGF0ZSB9fVwiIG1hdFRvb2x0aXBQb3NpdGlvbj1cImFib3ZlXCIgYXJpYS1sYWJlbD1cIlZpZGVvIHNldHRpbmdzIG1lbnVcIj5cblx0XHRcdDxtYXQtaWNvbj5tb3JlX3ZlcnQ8L21hdC1pY29uPlxuXHRcdDwvYnV0dG9uPlxuXHRcdDxzcGFuIFttYXRNZW51VHJpZ2dlckZvcl09XCJtZW51XCI+PC9zcGFuPlxuXHRcdDxtYXQtbWVudSAjbWVudT1cIm1hdE1lbnVcIiB5UG9zaXRpb249XCJhYm92ZVwiIHhQb3NpdGlvbj1cImJlZm9yZVwiPlxuXHRcdFx0PGJ1dHRvbiBtYXQtbWVudS1pdGVtIGlkPVwidmlkZW9ab29tQnV0dG9uXCIgKGNsaWNrKT1cInRvZ2dsZVZpZGVvRW5sYXJnZWQoKVwiPlxuXHRcdFx0XHQ8bWF0LWljb24+e3sgdGhpcy52aWRlb1NpemVJY29uIH19PC9tYXQtaWNvbj5cblx0XHRcdFx0PHNwYW4gKm5nSWY9XCJ2aWRlb1NpemVJY29uID09PSB2aWRlb1NpemVJY29uRW51bS5OT1JNQUxcIj57eyAnU1RSRUFNLlpPT01fT1VUJyB8IHRyYW5zbGF0ZSB9fTwvc3Bhbj5cblx0XHRcdFx0PHNwYW4gKm5nSWY9XCJ2aWRlb1NpemVJY29uID09PSB2aWRlb1NpemVJY29uRW51bS5CSUdcIj57eyAnU1RSRUFNLlpPT01fSU4nIHwgdHJhbnNsYXRlIH19PC9zcGFuPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8YnV0dG9uIG1hdC1tZW51LWl0ZW0gaWQ9XCJ2b2x1bWVCdXR0b25cIiAqbmdJZj1cIiF0aGlzLl9zdHJlYW0ubG9jYWxcIiAoY2xpY2spPVwidG9nZ2xlTXV0ZUZvcmNpYmx5KClcIj5cblx0XHRcdFx0PG1hdC1pY29uICpuZ0lmPVwiIV9zdHJlYW0ucGFydGljaXBhbnQuaXNNdXRlZEZvcmNpYmx5XCI+dm9sdW1lX3VwPC9tYXQtaWNvbj5cblx0XHRcdFx0PHNwYW4gKm5nSWY9XCIhX3N0cmVhbS5wYXJ0aWNpcGFudC5pc011dGVkRm9yY2libHlcIj57eyAnU1RSRUFNLk1VVEVfU09VTkQnIHwgdHJhbnNsYXRlIH19PC9zcGFuPlxuXG5cdFx0XHRcdDxtYXQtaWNvbiAqbmdJZj1cIl9zdHJlYW0ucGFydGljaXBhbnQuaXNNdXRlZEZvcmNpYmx5XCI+dm9sdW1lX29mZjwvbWF0LWljb24+XG5cdFx0XHRcdDxzcGFuICpuZ0lmPVwiX3N0cmVhbS5wYXJ0aWNpcGFudC5pc011dGVkRm9yY2libHlcIj57eyAnU1RSRUFNLlVOTVVURV9TT1VORCcgfCB0cmFuc2xhdGUgfX08L3NwYW4+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDxidXR0b25cblx0XHRcdFx0bWF0LW1lbnUtaXRlbVxuXHRcdFx0XHQoY2xpY2spPVwicmVwbGFjZVNjcmVlblRyYWNrKClcIlxuXHRcdFx0XHRpZD1cImNoYW5nZVNjcmVlbkJ1dHRvblwiXG5cdFx0XHRcdCpuZ0lmPVwiIXRoaXMuX3N0cmVhbS5zdHJlYW1NYW5hZ2VyPy5yZW1vdGUgJiYgdGhpcy5fc3RyZWFtLnN0cmVhbU1hbmFnZXI/LnN0cmVhbT8udHlwZU9mVmlkZW8gPT09IHZpZGVvVHlwZUVudW0uU0NSRUVOXCJcblx0XHRcdD5cblx0XHRcdFx0PG1hdC1pY29uPnBpY3R1cmVfaW5fcGljdHVyZTwvbWF0LWljb24+XG5cdFx0XHRcdDxzcGFuPnt7ICdTVFJFQU0uUkVQTEFDRV9TQ1JFRU4nIHwgdHJhbnNsYXRlIH19PC9zcGFuPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0PC9tYXQtbWVudT5cblx0PC9kaXY+XG48L2Rpdj5cbiJdfQ==