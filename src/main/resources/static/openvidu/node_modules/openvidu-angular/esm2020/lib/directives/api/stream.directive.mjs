import { Directive, Input } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "../../services/config/openvidu-angular.config.service";
/**
 * The **displayParticipantName** directive allows show/hide the participants name in stream component.
 *
 * Default: `true`
 *
 * It can be used in the parent element {@link VideoconferenceComponent} specifying the name of the `stream` component:
 *
 * @example
 * <ov-videoconference [streamDisplayParticipantName]="false"></ov-videoconference>
 *
 * \
 * And it also can be used in the {@link StreamComponent}.
 * @example
 * <ov-stream [displayParticipantName]="false"></ov-stream>
 */
export class StreamDisplayParticipantNameDirective {
    constructor(elementRef, libService) {
        this.elementRef = elementRef;
        this.libService = libService;
    }
    set streamDisplayParticipantName(value) {
        this.displayParticipantNameValue = value;
        this.update(this.displayParticipantNameValue);
    }
    set displayParticipantName(value) {
        this.displayParticipantNameValue = value;
        this.update(this.displayParticipantNameValue);
    }
    ngOnDestroy() {
        this.clear();
    }
    ngAfterViewInit() {
        this.update(this.displayParticipantNameValue);
    }
    update(value) {
        if (this.libService.displayParticipantName.getValue() !== value) {
            this.libService.displayParticipantName.next(value);
        }
    }
    clear() {
        this.update(true);
    }
}
StreamDisplayParticipantNameDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamDisplayParticipantNameDirective, deps: [{ token: i0.ElementRef }, { token: i1.OpenViduAngularConfigService }], target: i0.ɵɵFactoryTarget.Directive });
StreamDisplayParticipantNameDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "14.2.8", type: StreamDisplayParticipantNameDirective, selector: "ov-videoconference[streamDisplayParticipantName], ov-stream[displayParticipantName]", inputs: { streamDisplayParticipantName: "streamDisplayParticipantName", displayParticipantName: "displayParticipantName" }, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamDisplayParticipantNameDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: 'ov-videoconference[streamDisplayParticipantName], ov-stream[displayParticipantName]'
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.OpenViduAngularConfigService }]; }, propDecorators: { streamDisplayParticipantName: [{
                type: Input
            }], displayParticipantName: [{
                type: Input
            }] } });
/**
 * The **displayAudioDetection** directive allows show/hide the participants audio detection in stream component.
 *
 * Default: `true`
 *
 * It can be used in the parent element {@link VideoconferenceComponent} specifying the name of the `stream` component:
 *
 * @example
 * <ov-videoconference [streamDisplayAudioDetection]="false"></ov-videoconference>
 *
 * \
 * And it also can be used in the {@link StreamComponent}.
 * @example
 * <ov-stream [displayAudioDetection]="false"></ov-stream>
 */
export class StreamDisplayAudioDetectionDirective {
    constructor(elementRef, libService) {
        this.elementRef = elementRef;
        this.libService = libService;
    }
    set streamDisplayAudioDetection(value) {
        this.displayAudioDetectionValue = value;
        this.update(this.displayAudioDetectionValue);
    }
    set displayAudioDetection(value) {
        this.displayAudioDetectionValue = value;
        this.update(this.displayAudioDetectionValue);
    }
    ngAfterViewInit() {
        this.update(this.displayAudioDetectionValue);
    }
    ngOnDestroy() {
        this.clear();
    }
    update(value) {
        if (this.libService.displayAudioDetection.getValue() !== value) {
            this.libService.displayAudioDetection.next(value);
        }
    }
    clear() {
        this.update(true);
    }
}
StreamDisplayAudioDetectionDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamDisplayAudioDetectionDirective, deps: [{ token: i0.ElementRef }, { token: i1.OpenViduAngularConfigService }], target: i0.ɵɵFactoryTarget.Directive });
StreamDisplayAudioDetectionDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "14.2.8", type: StreamDisplayAudioDetectionDirective, selector: "ov-videoconference[streamDisplayAudioDetection], ov-stream[displayAudioDetection]", inputs: { streamDisplayAudioDetection: "streamDisplayAudioDetection", displayAudioDetection: "displayAudioDetection" }, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamDisplayAudioDetectionDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: 'ov-videoconference[streamDisplayAudioDetection], ov-stream[displayAudioDetection]'
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.OpenViduAngularConfigService }]; }, propDecorators: { streamDisplayAudioDetection: [{
                type: Input
            }], displayAudioDetection: [{
                type: Input
            }] } });
/**
 * The **settingsButton** directive allows show/hide the participants settings button in stream component.
 *
 * Default: `true`
 *
 * It can be used in the parent element {@link VideoconferenceComponent} specifying the name of the `stream` component:
 *
 * @example
 * <ov-videoconference [streamSettingsButton]="false"></ov-videoconference>
 *
 * \
 * And it also can be used in the {@link StreamComponent}.
 * @example
 * <ov-stream [settingsButton]="false"></ov-stream>
 */
export class StreamSettingsButtonDirective {
    constructor(elementRef, libService) {
        this.elementRef = elementRef;
        this.libService = libService;
    }
    set streamSettingsButton(value) {
        this.settingsValue = value;
        this.update(this.settingsValue);
    }
    set settingsButton(value) {
        this.settingsValue = value;
        this.update(this.settingsValue);
    }
    ngAfterViewInit() {
        this.update(this.settingsValue);
    }
    ngOnDestroy() {
        this.clear();
    }
    update(value) {
        if (this.libService.streamSettingsButton.getValue() !== value) {
            this.libService.streamSettingsButton.next(value);
        }
    }
    clear() {
        this.update(true);
    }
}
StreamSettingsButtonDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamSettingsButtonDirective, deps: [{ token: i0.ElementRef }, { token: i1.OpenViduAngularConfigService }], target: i0.ɵɵFactoryTarget.Directive });
StreamSettingsButtonDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "14.2.8", type: StreamSettingsButtonDirective, selector: "ov-videoconference[streamSettingsButton], ov-stream[settingsButton]", inputs: { streamSettingsButton: "streamSettingsButton", settingsButton: "settingsButton" }, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: StreamSettingsButtonDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: 'ov-videoconference[streamSettingsButton], ov-stream[settingsButton]'
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.OpenViduAngularConfigService }]; }, propDecorators: { streamSettingsButton: [{
                type: Input
            }], settingsButton: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL29wZW52aWR1LWFuZ3VsYXIvc3JjL2xpYi9kaXJlY3RpdmVzL2FwaS9zdHJlYW0uZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBaUIsU0FBUyxFQUFjLEtBQUssRUFBYSxNQUFNLGVBQWUsQ0FBQzs7O0FBR3ZGOzs7Ozs7Ozs7Ozs7OztHQWNHO0FBSUgsTUFBTSxPQUFPLHFDQUFxQztJQVlqRCxZQUFtQixVQUFzQixFQUFVLFVBQXdDO1FBQXhFLGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSxlQUFVLEdBQVYsVUFBVSxDQUE4QjtJQUFHLENBQUM7SUFYL0YsSUFBYSw0QkFBNEIsQ0FBQyxLQUFjO1FBQ3ZELElBQUksQ0FBQywyQkFBMkIsR0FBRyxLQUFLLENBQUM7UUFDekMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBQ0QsSUFBYSxzQkFBc0IsQ0FBQyxLQUFjO1FBQ2pELElBQUksQ0FBQywyQkFBMkIsR0FBRyxLQUFLLENBQUM7UUFDekMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBTUQsV0FBVztRQUNWLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxlQUFlO1FBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWM7UUFDcEIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLHNCQUFzQixDQUFDLFFBQVEsRUFBRSxLQUFLLEtBQUssRUFBRTtZQUNoRSxJQUFJLENBQUMsVUFBVSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMs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SixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25CLENBQUM7OzBIQTlCVyw2QkFBNkI7OEdBQTdCLDZCQUE2QjsyRkFBN0IsNkJBQTZCO2tCQUh6QyxTQUFTO21CQUFDO29CQUNWLFFBQVEsRUFBRSxxRUFBcUU7aUJBQy9FOzRJQUVhLG9CQUFvQjtzQkFBaEMsS0FBSztnQkFJTyxjQUFjO3NCQUExQixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBJbnB1dCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPcGVuVmlkdUFuZ3VsYXJDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY29uZmlnL29wZW52aWR1LWFuZ3VsYXIuY29uZmlnLnNlcnZpY2UnO1xuXG4vKipcbiAqIFRoZSAqKmRpc3BsYXlQYXJ0aWNpcGFudE5hbWUqKiBkaXJlY3RpdmUgYWxsb3dzIHNob3cvaGlkZSB0aGUgcGFydGljaXBhbnRzIG5hbWUgaW4gc3RyZWFtIGNvbXBvbmVudC5cbiAqXG4gKiBEZWZhdWx0OiBgdHJ1ZWBcbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCBpbiB0aGUgcGFyZW50IGVsZW1lbnQge0BsaW5rIFZpZGVvY29uZmVyZW5jZUNvbXBvbmVudH0gc3BlY2lmeWluZyB0aGUgbmFtZSBvZiB0aGUgYHN0cmVhbWAgY29tcG9uZW50OlxuICpcbiAqIEBleGFtcGxlXG4gKiA8b3YtdmlkZW9jb25mZXJlbmNlIFtzdHJlYW1EaXNwbGF5UGFydGljaXBhbnROYW1lXT1cImZhbHNlXCI+PC9vdi12aWRlb2NvbmZlcmVuY2U+XG4gKlxuICogXFxcbiAqIEFuZCBpdCBhbHNvIGNhbiBiZSB1c2VkIGluIHRoZSB7QGxpbmsgU3RyZWFtQ29tcG9uZW50fS5cbiAqIEBleGFtcGxlXG4gKiA8b3Ytc3RyZWFtIFtkaXNwbGF5UGFydGljaXBhbnROYW1lXT1cImZhbHNlXCI+PC9vdi1zdHJlYW0+XG4gKi9cbkBEaXJlY3RpdmUoe1xuXHRzZWxlY3RvcjogJ292LXZpZGVvY29uZmVyZW5jZVtzdHJlYW1EaXNwbGF5UGFydGljaXBhbnROYW1lXSwgb3Ytc3RyZWFtW2Rpc3BsYXlQYXJ0aWNpcGFudE5hbWVdJ1xufSlcbmV4cG9ydCBjbGFzcyBTdHJlYW1EaXNwbGF5UGFydGljaXBhbnROYW1lRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcblx0QElucHV0KCkgc2V0IHN0cmVhbURpc3BsYXlQYXJ0aWNpcGFudE5hbWUodmFsdWU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLmRpc3BsYXlQYXJ0aWNpcGFudE5hbWVWYWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudXBkYXRlKHRoaXMuZGlzcGxheVBhcnRpY2lwYW50TmFtZVZhbHVlKTtcblx0fVxuXHRASW5wdXQoKSBzZXQgZGlzcGxheVBhcnRpY2lwYW50TmFtZSh2YWx1ZTogYm9vbGVhbikge1xuXHRcdHRoaXMuZGlzcGxheVBhcnRpY2lwYW50TmFtZVZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy51cGRhdGUodGhpcy5kaXNwbGF5UGFydGljaXBhbnROYW1lVmFsdWUpO1xuXHR9XG5cblx0ZGlzcGxheVBhcnRpY2lwYW50TmFtZVZhbHVlOiBib29sZWFuO1xuXG5cdGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwcml2YXRlIGxpYlNlcnZpY2U6IE9wZW5WaWR1QW5ndWxhckNvbmZpZ1NlcnZpY2UpIHt9XG5cblx0bmdPbkRlc3Ryb3koKTogdm9pZCB7XG5cdFx0dGhpcy5jbGVhcigpO1xuXHR9XG5cblx0bmdBZnRlclZpZXdJbml0KCkge1xuXHRcdHRoaXMudXBkYXRlKHRoaXMuZGlzcGxheVBhcnRpY2lwYW50TmFtZVZhbHVlKTtcblx0fVxuXG5cdHVwZGF0ZSh2YWx1ZTogYm9vbGVhbikge1xuXHRcdGlmICh0aGlzLmxpYlNlcnZpY2UuZGlzcGxheVBhcnRpY2lwYW50TmFtZS5nZXRWYWx1ZSgpICE9PSB2YWx1ZSkge1xuXHRcdFx0dGhpcy5saWJTZXJ2aWNlLmRpc3BsYXlQYXJ0aWNpcGFudE5hbWUubmV4dCh2YWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0Y2xlYXIoKSB7XG5cdFx0dGhpcy51cGRhdGUodHJ1ZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgKipkaXNwbGF5QXVkaW9EZXRlY3Rpb24qKiBkaXJlY3RpdmUgYWxsb3dzIHNob3cvaGlkZSB0aGUgcGFydGljaXBhbnRzIGF1ZGlvIGRldGVjdGlvbiBpbiBzdHJlYW0gY29tcG9uZW50LlxuICpcbiAqIERlZmF1bHQ6IGB0cnVlYFxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIGluIHRoZSBwYXJlbnQgZWxlbWVudCB7QGxpbmsgVmlkZW9jb25mZXJlbmNlQ29tcG9uZW50fSBzcGVjaWZ5aW5nIHRoZSBuYW1lIG9mIHRoZSBgc3RyZWFtYCBjb21wb25lbnQ6XG4gKlxuICogQGV4YW1wbGVcbiAqIDxvdi12aWRlb2NvbmZlcmVuY2UgW3N0cmVhbURpc3BsYXlBdWRpb0RldGVjdGlvbl09XCJmYWxzZVwiPjwvb3YtdmlkZW9jb25mZXJlbmNlPlxuICpcbiAqIFxcXG4gKiBBbmQgaXQgYWxzbyBjYW4gYmUgdXNlZCBpbiB0aGUge0BsaW5rIFN0cmVhbUNvbXBvbmVudH0uXG4gKiBAZXhhbXBsZVxuICogPG92LXN0cmVhbSBbZGlzcGxheUF1ZGlvRGV0ZWN0aW9uXT1cImZhbHNlXCI+PC9vdi1zdHJlYW0+XG4gKi9cbkBEaXJlY3RpdmUoe1xuXHRzZWxlY3RvcjogJ292LXZpZGVvY29uZmVyZW5jZVtzdHJlYW1EaXNwbGF5QXVkaW9EZXRlY3Rpb25dLCBvdi1zdHJlYW1bZGlzcGxheUF1ZGlvRGV0ZWN0aW9uXSdcbn0pXG5leHBvcnQgY2xhc3MgU3RyZWFtRGlzcGxheUF1ZGlvRGV0ZWN0aW9uRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcblx0QElucHV0KCkgc2V0IHN0cmVhbURpc3BsYXlBdWRpb0RldGVjdGlvbih2YWx1ZTogYm9vbGVhbikge1xuXHRcdHRoaXMuZGlzcGxheUF1ZGlvRGV0ZWN0aW9uVmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLnVwZGF0ZSh0aGlzLmRpc3BsYXlBdWRpb0RldGVjdGlvblZhbHVlKTtcblx0fVxuXHRASW5wdXQoKSBzZXQgZGlzcGxheUF1ZGlvRGV0ZWN0aW9uKHZhbHVlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5kaXNwbGF5QXVkaW9EZXRlY3Rpb25WYWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudXBkYXRlKHRoaXMuZGlzcGxheUF1ZGlvRGV0ZWN0aW9uVmFsdWUpO1xuXHR9XG5cblx0ZGlzcGxheUF1ZGlvRGV0ZWN0aW9uVmFsdWU6IGJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IocHVibGljIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgbGliU2VydmljZTogT3BlblZpZHVBbmd1bGFyQ29uZmlnU2VydmljZSkge31cblxuXHRuZ0FmdGVyVmlld0luaXQoKSB7XG5cdFx0dGhpcy51cGRhdGUodGhpcy5kaXNwbGF5QXVkaW9EZXRlY3Rpb25WYWx1ZSk7XG5cdH1cblx0bmdPbkRlc3Ryb3koKTogdm9pZCB7XG5cdFx0dGhpcy5jbGVhcigpO1xuXHR9XG5cblx0dXBkYXRlKHZhbHVlOiBib29sZWFuKSB7XG5cdFx0aWYgKHRoaXMubGliU2VydmljZS5kaXNwbGF5QXVkaW9EZXRlY3Rpb24uZ2V0VmFsdWUoKSAhPT0gdmFsdWUpIHtcblx0XHRcdHRoaXMubGliU2VydmljZS5kaXNwbGF5QXVkaW9EZXRlY3Rpb24ubmV4dCh2YWx1ZSk7XG5cdFx0fVxuXHR9XG5cdGNsZWFyKCkge1xuXHRcdHRoaXMudXBkYXRlKHRydWUpO1xuXHR9XG59XG5cbi8qKlxuICogVGhlICoqc2V0dGluZ3NCdXR0b24qKiBkaXJlY3RpdmUgYWxsb3dzIHNob3cvaGlkZSB0aGUgcGFydGljaXBhbnRzIHNldHRpbmdzIGJ1dHRvbiBpbiBzdHJlYW0gY29tcG9uZW50LlxuICpcbiAqIERlZmF1bHQ6IGB0cnVlYFxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIGluIHRoZSBwYXJlbnQgZWxlbWVudCB7QGxpbmsgVmlkZW9jb25mZXJlbmNlQ29tcG9uZW50fSBzcGVjaWZ5aW5nIHRoZSBuYW1lIG9mIHRoZSBgc3RyZWFtYCBjb21wb25lbnQ6XG4gKlxuICogQGV4YW1wbGVcbiAqIDxvdi12aWRlb2NvbmZlcmVuY2UgW3N0cmVhbVNldHRpbmdzQnV0dG9uXT1cImZhbHNlXCI+PC9vdi12aWRlb2NvbmZlcmVuY2U+XG4gKlxuICogXFxcbiAqIEFuZCBpdCBhbHNvIGNhbiBiZSB1c2VkIGluIHRoZSB7QGxpbmsgU3RyZWFtQ29tcG9uZW50fS5cbiAqIEBleGFtcGxlXG4gKiA8b3Ytc3RyZWFtIFtzZXR0aW5nc0J1dHRvbl09XCJmYWxzZVwiPjwvb3Ytc3RyZWFtPlxuICovXG5ARGlyZWN0aXZlKHtcblx0c2VsZWN0b3I6ICdvdi12aWRlb2NvbmZlcmVuY2Vbc3RyZWFtU2V0dGluZ3NCdXR0b25dLCBvdi1zdHJlYW1bc2V0dGluZ3NCdXR0b25dJ1xufSlcbmV4cG9ydCBjbGFzcyBTdHJlYW1TZXR0aW5nc0J1dHRvbkRpcmVjdGl2ZSBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG5cdEBJbnB1dCgpIHNldCBzdHJlYW1TZXR0aW5nc0J1dHRvbih2YWx1ZTogYm9vbGVhbikge1xuXHRcdHRoaXMuc2V0dGluZ3NWYWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudXBkYXRlKHRoaXMuc2V0dGluZ3NWYWx1ZSk7XG5cdH1cblx0QElucHV0KCkgc2V0IHNldHRpbmdzQnV0dG9uKHZhbHVlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5zZXR0aW5nc1ZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy51cGRhdGUodGhpcy5zZXR0aW5nc1ZhbHVlKTtcblx0fVxuXG5cdHNldHRpbmdzVmFsdWU6IGJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IocHVibGljIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgbGliU2VydmljZTogT3BlblZpZHVBbmd1bGFyQ29uZmlnU2VydmljZSkge31cblxuXHRuZ0FmdGVyVmlld0luaXQoKSB7XG5cdFx0dGhpcy51cGRhdGUodGhpcy5zZXR0aW5nc1ZhbHVlKTtcblx0fVxuXG5cdG5nT25EZXN0cm95KCk6IHZvaWQge1xuXHRcdHRoaXMuY2xlYXIoKTtcblx0fVxuXG5cdHVwZGF0ZSh2YWx1ZTogYm9vbGVhbikge1xuXHRcdGlmICh0aGlzLmxpYlNlcnZpY2Uuc3RyZWFtU2V0dGluZ3NCdXR0b24uZ2V0VmFsdWUoKSAhPT0gdmFsdWUpIHtcblx0XHRcdHRoaXMubGliU2VydmljZS5zdHJlYW1TZXR0aW5nc0J1dHRvbi5uZXh0KHZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRjbGVhcigpIHtcblx0XHR0aGlzLnVwZGF0ZSh0cnVlKTtcblx0fVxufVxuIl19