import { Component, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';
import { PanelType } from '../../../models/panel.model';
import * as i0 from "@angular/core";
import * as i1 from "../../../services/panel/panel.service";
import * as i2 from "../../../services/config/openvidu-angular.config.service";
import * as i3 from "@angular/common";
import * as i4 from "@angular/material/button";
import * as i5 from "@angular/material/icon";
import * as i6 from "@angular/material/tooltip";
import * as i7 from "@angular/flex-layout/flex";
import * as i8 from "@angular/material/expansion";
import * as i9 from "./recording-activity-panel/recording-activity.component";
import * as i10 from "../../../pipes/translate.pipe";
export class ActivitiesPanelComponent {
    /**
     * @internal
     */
    constructor(panelService, libService, cd) {
        this.panelService = panelService;
        this.libService = libService;
        this.cd = cd;
        /**
         * Provides event notifications that fire when start recording button has been clicked.
         * The recording should be stated using the OpenVidu REST API.
         */
        this.onStartRecordingClicked = new EventEmitter();
        /**
         * Provides event notifications that fire when stop recording button has been clicked.
         * The recording should be stopped using the OpenVidu REST API.
         */
        this.onStopRecordingClicked = new EventEmitter();
        /**
         * Provides event notifications that fire when delete recording button has been clicked.
         * The recording should be deleted using the OpenVidu REST API.
         */
        this.onDeleteRecordingClicked = new EventEmitter();
        /**
         * @internal
         */
        this.expandedPanel = '';
        /**
         * @internal
         */
        this.showRecordingActivity = true;
    }
    /**
     * @internal
     */
    ngOnInit() {
        this.subscribeToPanelToggling();
        this.subscribeToActivitiesPanelDirective();
    }
    /**
     * @internal
     */
    ngOnDestroy() {
        if (this.panelSubscription)
            this.panelSubscription.unsubscribe();
        if (this.recordingActivitySub)
            this.recordingActivitySub.unsubscribe();
    }
    /**
     * @internal
     */
    close() {
        this.panelService.togglePanel(PanelType.ACTIVITIES);
    }
    /**
     * @internal
     */
    _onStartRecordingClicked() {
        this.onStartRecordingClicked.emit();
    }
    /**
     * @internal
     */
    _onStopRecordingClicked() {
        this.onStopRecordingClicked.emit();
    }
    /**
     * @internal
     */
    _onDeleteRecordingClicked(recordingId) {
        this.onDeleteRecordingClicked.emit(recordingId);
    }
    subscribeToPanelToggling() {
        this.panelSubscription = this.panelService.panelOpenedObs.subscribe((ev) => {
            if (ev.type === PanelType.ACTIVITIES && !!ev.expand) {
                this.expandedPanel = ev.expand;
            }
        });
    }
    subscribeToActivitiesPanelDirective() {
        this.recordingActivitySub = this.libService.recordingActivity.subscribe((value) => {
            this.showRecordingActivity = value;
            this.cd.markForCheck();
        });
    }
}
ActivitiesPanelComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: ActivitiesPanelComponent, deps: [{ token: i1.PanelService }, { token: i2.OpenViduAngularConfigService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
ActivitiesPanelComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.8", type: ActivitiesPanelComponent, selector: "ov-activities-panel", outputs: { onStartRecordingClicked: "onStartRecordingClicked", onStopRecordingClicked: "onStopRecordingClicked", onDeleteRecordingClicked: "onDeleteRecordingClicked" }, ngImport: i0, template: "<div class=\"panel-container\" id=\"activities-container\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly none\">\n\t<div class=\"panel-header-container\" fxFlex=\"55px\" fxLayoutAlign=\"start center\">\n\t\t<h3 class=\"panel-title\">Activities</h3>\n\t\t<button class=\"panel-close-button\" mat-icon-button matTooltip=\"{{ 'PANEL.CLOSE' | translate }}\" (click)=\"close()\">\n\t\t\t<mat-icon>close</mat-icon>\n\t\t</button>\n\t</div>\n\n\t<div class=\"activities-body-container\" fxFlex=\"75%\" fxLayoutAlign=\"space-evenly none\">\n\t\t<mat-accordion>\n\t\t\t<ov-recording-activity\n\t\t\t\t*ngIf=\"showRecordingActivity\"\n\t\t\t\tid=\"recording-activity\"\n\t\t\t\t[expanded]=\"expandedPanel === 'recording'\"\n\t\t\t\t(onStartRecordingClicked)=\"_onStartRecordingClicked()\"\n\t\t\t\t(onStopRecordingClicked)=\"_onStopRecordingClicked()\"\n\t\t\t\t(onDeleteRecordingClicked)=\"_onDeleteRecordingClicked($event)\"\n\t\t\t></ov-recording-activity>\n\t\t</mat-accordion>\n\t</div>\n</div>\n", styles: [".panel-container{margin:20px;background-color:var(--ov-panel-background);border-radius:var(--ov-panel-radius);max-height:calc(100% - 40px);min-height:calc(100% - 40px)}.panel-header-container{padding:10px;display:flex}.panel-title{margin-left:5px;margin-top:auto;margin-bottom:auto}.panel-close-button{margin-left:auto;border-radius:var(--ov-buttons-radius)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-thumb{background:#a7a7a7;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#7c7c7c}::-webkit-scrollbar-track{background:var(--ov-light-color);border-radius:4px}\n", ".activities-body-container{display:block!important;overflow-y:auto;overflow-x:hidden;padding:10px}.activity-icon{display:inherit;background-color:var(--ov-light-color);border-radius:var(--ov-panel-radius)}.activity-icon mat-icon{margin:auto}.activity-subtitle{font-style:italic;font-size:11px!important}.activity-title{font-weight:700!important}.activity-action-buttons{align-self:flex-start;margin-top:15px;font-weight:600}::ng-deep .mat-list-text{padding-left:10px!important}::ng-deep .mat-expansion-panel-header{padding:0 10px!important;height:65px!important}::ng-deep .mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{padding:0!important}::ng-deep mat-expansion-panel .mat-expansion-panel-body{padding:0!important;min-height:400px}::ng-deep .mat-expansion-panel-header-description{flex-grow:0!important}::ng-deep .mat-expansion-panel{box-shadow:none!important}\n"], dependencies: [{ kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i4.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i5.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i6.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "directive", type: i7.DefaultLayoutDirective, selector: "  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]", inputs: ["fxLayout", "fxLayout.xs", "fxLayout.sm", "fxLayout.md", "fxLayout.lg", "fxLayout.xl", "fxLayout.lt-sm", "fxLayout.lt-md", "fxLayout.lt-lg", "fxLayout.lt-xl", "fxLayout.gt-xs", "fxLayout.gt-sm", "fxLayout.gt-md", "fxLayout.gt-lg"] }, { kind: "directive", type: i7.DefaultLayoutAlignDirective, selector: "  [fxLayoutAlign], [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md],  [fxLayoutAlign.lg], [fxLayoutAlign.xl], [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md],  [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl], [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm],  [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]", inputs: ["fxLayoutAlign", "fxLayoutAlign.xs", "fxLayoutAlign.sm", "fxLayoutAlign.md", "fxLayoutAlign.lg", "fxLayoutAlign.xl", "fxLayoutAlign.lt-sm", "fxLayoutAlign.lt-md", "fxLayoutAlign.lt-lg", "fxLayoutAlign.lt-xl", "fxLayoutAlign.gt-xs", "fxLayoutAlign.gt-sm", "fxLayoutAlign.gt-md", "fxLayoutAlign.gt-lg"] }, { kind: "directive", type: i7.DefaultFlexDirective, selector: "  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]", inputs: ["fxFlex", "fxFlex.xs", "fxFlex.sm", "fxFlex.md", "fxFlex.lg", "fxFlex.xl", "fxFlex.lt-sm", "fxFlex.lt-md", "fxFlex.lt-lg", "fxFlex.lt-xl", "fxFlex.gt-xs", "fxFlex.gt-sm", "fxFlex.gt-md", "fxFlex.gt-lg"] }, { kind: "directive", type: i8.MatAccordion, selector: "mat-accordion", inputs: ["multi", "hideToggle", "displayMode", "togglePosition"], exportAs: ["matAccordion"] }, { kind: "component", type: i9.RecordingActivityComponent, selector: "ov-recording-activity", inputs: ["expanded"], outputs: ["onStartRecordingClicked", "onStopRecordingClicked", "onDeleteRecordingClicked"] }, { kind: "pipe", type: i10.TranslatePipe, name: "translate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.8", ngImport: i0, type: ActivitiesPanelComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ov-activities-panel', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"panel-container\" id=\"activities-container\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly none\">\n\t<div class=\"panel-header-container\" fxFlex=\"55px\" fxLayoutAlign=\"start center\">\n\t\t<h3 class=\"panel-title\">Activities</h3>\n\t\t<button class=\"panel-close-button\" mat-icon-button matTooltip=\"{{ 'PANEL.CLOSE' | translate }}\" (click)=\"close()\">\n\t\t\t<mat-icon>close</mat-icon>\n\t\t</button>\n\t</div>\n\n\t<div class=\"activities-body-container\" fxFlex=\"75%\" fxLayoutAlign=\"space-evenly none\">\n\t\t<mat-accordion>\n\t\t\t<ov-recording-activity\n\t\t\t\t*ngIf=\"showRecordingActivity\"\n\t\t\t\tid=\"recording-activity\"\n\t\t\t\t[expanded]=\"expandedPanel === 'recording'\"\n\t\t\t\t(onStartRecordingClicked)=\"_onStartRecordingClicked()\"\n\t\t\t\t(onStopRecordingClicked)=\"_onStopRecordingClicked()\"\n\t\t\t\t(onDeleteRecordingClicked)=\"_onDeleteRecordingClicked($event)\"\n\t\t\t></ov-recording-activity>\n\t\t</mat-accordion>\n\t</div>\n</div>\n", styles: [".panel-container{margin:20px;background-color:var(--ov-panel-background);border-radius:var(--ov-panel-radius);max-height:calc(100% - 40px);min-height:calc(100% - 40px)}.panel-header-container{padding:10px;display:flex}.panel-title{margin-left:5px;margin-top:auto;margin-bottom:auto}.panel-close-button{margin-left:auto;border-radius:var(--ov-buttons-radius)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-thumb{background:#a7a7a7;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#7c7c7c}::-webkit-scrollbar-track{background:var(--ov-light-color);border-radius:4px}\n", ".activities-body-container{display:block!important;overflow-y:auto;overflow-x:hidden;padding:10px}.activity-icon{display:inherit;background-color:var(--ov-light-color);border-radius:var(--ov-panel-radius)}.activity-icon mat-icon{margin:auto}.activity-subtitle{font-style:italic;font-size:11px!important}.activity-title{font-weight:700!important}.activity-action-buttons{align-self:flex-start;margin-top:15px;font-weight:600}::ng-deep .mat-list-text{padding-left:10px!important}::ng-deep .mat-expansion-panel-header{padding:0 10px!important;height:65px!important}::ng-deep .mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{padding:0!important}::ng-deep mat-expansion-panel .mat-expansion-panel-body{padding:0!important;min-height:400px}::ng-deep .mat-expansion-panel-header-description{flex-grow:0!important}::ng-deep .mat-expansion-panel{box-shadow:none!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.PanelService }, { type: i2.OpenViduAngularConfigService }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { onStartRecordingClicked: [{
                type: Output
            }], onStopRecordingClicked: [{
                type: Output
            }], onDeleteRecordingClicked: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aXZpdGllcy1wYW5lbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9vcGVudmlkdS1hbmd1bGFyL3NyYy9saWIvY29tcG9uZW50cy9wYW5lbC9hY3Rpdml0aWVzLXBhbmVsL2FjdGl2aXRpZXMtcGFuZWwuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvb3BlbnZpZHUtYW5ndWxhci9zcmMvbGliL2NvbXBvbmVudHMvcGFuZWwvYWN0aXZpdGllcy1wYW5lbC9hY3Rpdml0aWVzLXBhbmVsLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxFQUFFLFlBQVksRUFBRSx1QkFBdUIsRUFBcUIsTUFBTSxlQUFlLENBQUM7QUFFcEgsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLDZCQUE2QixDQUFDOzs7Ozs7Ozs7Ozs7QUFVeEQsTUFBTSxPQUFPLHdCQUF3QjtJQStCcEM7O09BRUc7SUFDSCxZQUFvQixZQUEwQixFQUFVLFVBQXdDLEVBQVUsRUFBcUI7UUFBM0csaUJBQVksR0FBWixZQUFZLENBQWM7UUFBVSxlQUFVLEdBQVYsVUFBVSxDQUE4QjtRQUFVLE9BQUUsR0FBRixFQUFFLENBQW1CO1FBakMvSDs7O1dBR0c7UUFDTyw0QkFBdUIsR0FBdUIsSUFBSSxZQUFZLEVBQVEsQ0FBQztRQUVqRjs7O1dBR0c7UUFDTywyQkFBc0IsR0FBdUIsSUFBSSxZQUFZLEVBQVEsQ0FBQztRQUVoRjs7O1dBR0c7UUFDTyw2QkFBd0IsR0FBeUIsSUFBSSxZQUFZLEVBQVUsQ0FBQztRQUd0Rjs7V0FFRztRQUNILGtCQUFhLEdBQVcsRUFBRSxDQUFDO1FBQzNCOztXQUVHO1FBQ0gsMEJBQXFCLEdBQVksSUFBSSxDQUFDO0lBTzRGLENBQUM7SUFFbkk7O09BRUc7SUFDSCxRQUFRO1FBQ1AsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLG1DQUFtQyxFQUFFLENBQUM7SUFDNUMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsV0FBVztRQUNWLElBQUksSUFBSSxDQUFDLGlCQUFpQjtZQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNqRSxJQUFJLElBQUksQ0FBQyxvQkFBb0I7WUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDeEUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsS0FBSztRQUNKLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQ7O09BRUc7SUFDSCx3QkFBd0I7UUFDdkIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFFRDs7T0FFRztJQUNILHVCQUF1QjtRQUN0QixJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEMsQ0FBQztJQUVEOztPQUVHO0lBQ0gseUJBQXlCLENBQUMsV0FBbUI7UUFDNUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU8sd0JBQXdCO1FBQy9CLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQ2xFLENBQUMsRUFBYyxFQUFFLEVBQUU7WUFDbEIsSUFBSSxFQUFFLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3BELElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQzthQUMvQjtRQUNGLENBQUMsQ0FDRCxDQUFDO0lBQ0gsQ0FBQztJQUVPLG1DQUFtQztRQUMxQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFjLEVBQUUsRUFBRTtZQUMxRixJQUFJLENBQUMscUJBQXFCLEdBQUcsS0FBSyxDQUFDO1lBQ25DLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDOztxSEEvRlcsd0JBQXdCO3lHQUF4Qix3QkFBd0Isb09DWnJDLG8rQkFxQkE7MkZEVGEsd0JBQXdCO2tCQU5wQyxTQUFTOytCQUNDLHFCQUFxQixtQkFHZCx1QkFBdUIsQ0FBQyxNQUFNOzhLQU9yQyx1QkFBdUI7c0JBQWhDLE1BQU07Z0JBTUcsc0JBQXNCO3NCQUEvQixNQUFNO2dCQU1HLHdCQUF3QjtzQkFBakMsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFBhbmVsVHlwZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9wYW5lbC5tb2RlbCc7XG5pbXBvcnQgeyBPcGVuVmlkdUFuZ3VsYXJDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvY29uZmlnL29wZW52aWR1LWFuZ3VsYXIuY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgUGFuZWxFdmVudCwgUGFuZWxTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcGFuZWwvcGFuZWwuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ292LWFjdGl2aXRpZXMtcGFuZWwnLFxuXHR0ZW1wbGF0ZVVybDogJy4vYWN0aXZpdGllcy1wYW5lbC5jb21wb25lbnQuaHRtbCcsXG5cdHN0eWxlVXJsczogWycuLi9wYW5lbC5jb21wb25lbnQuY3NzJywgJy4vYWN0aXZpdGllcy1wYW5lbC5jb21wb25lbnQuY3NzJ10sXG5cdGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNQYW5lbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cdC8qKlxuXHQgKiBQcm92aWRlcyBldmVudCBub3RpZmljYXRpb25zIHRoYXQgZmlyZSB3aGVuIHN0YXJ0IHJlY29yZGluZyBidXR0b24gaGFzIGJlZW4gY2xpY2tlZC5cblx0ICogVGhlIHJlY29yZGluZyBzaG91bGQgYmUgc3RhdGVkIHVzaW5nIHRoZSBPcGVuVmlkdSBSRVNUIEFQSS5cblx0ICovXG5cdEBPdXRwdXQoKSBvblN0YXJ0UmVjb3JkaW5nQ2xpY2tlZDogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG5cdC8qKlxuXHQgKiBQcm92aWRlcyBldmVudCBub3RpZmljYXRpb25zIHRoYXQgZmlyZSB3aGVuIHN0b3AgcmVjb3JkaW5nIGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkLlxuXHQgKiBUaGUgcmVjb3JkaW5nIHNob3VsZCBiZSBzdG9wcGVkIHVzaW5nIHRoZSBPcGVuVmlkdSBSRVNUIEFQSS5cblx0ICovXG5cdEBPdXRwdXQoKSBvblN0b3BSZWNvcmRpbmdDbGlja2VkOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cblx0LyoqXG5cdCAqIFByb3ZpZGVzIGV2ZW50IG5vdGlmaWNhdGlvbnMgdGhhdCBmaXJlIHdoZW4gZGVsZXRlIHJlY29yZGluZyBidXR0b24gaGFzIGJlZW4gY2xpY2tlZC5cblx0ICogVGhlIHJlY29yZGluZyBzaG91bGQgYmUgZGVsZXRlZCB1c2luZyB0aGUgT3BlblZpZHUgUkVTVCBBUEkuXG5cdCAqL1xuXHRAT3V0cHV0KCkgb25EZWxldGVSZWNvcmRpbmdDbGlja2VkOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuXG5cblx0LyoqXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0ZXhwYW5kZWRQYW5lbDogc3RyaW5nID0gJyc7XG5cdC8qKlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdHNob3dSZWNvcmRpbmdBY3Rpdml0eTogYm9vbGVhbiA9IHRydWU7XG5cdHByaXZhdGUgcGFuZWxTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcblx0cHJpdmF0ZSByZWNvcmRpbmdBY3Rpdml0eVN1YjogU3Vic2NyaXB0aW9uO1xuXG5cdC8qKlxuXHQgKiBAaW50ZXJuYWxcblx0ICovXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcGFuZWxTZXJ2aWNlOiBQYW5lbFNlcnZpY2UsIHByaXZhdGUgbGliU2VydmljZTogT3BlblZpZHVBbmd1bGFyQ29uZmlnU2VydmljZSwgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHt9XG5cblx0LyoqXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0bmdPbkluaXQoKTogdm9pZCB7XG5cdFx0dGhpcy5zdWJzY3JpYmVUb1BhbmVsVG9nZ2xpbmcoKTtcblx0XHR0aGlzLnN1YnNjcmliZVRvQWN0aXZpdGllc1BhbmVsRGlyZWN0aXZlKCk7XG5cdH1cblxuXHQvKipcblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRuZ09uRGVzdHJveSgpIHtcblx0XHRpZiAodGhpcy5wYW5lbFN1YnNjcmlwdGlvbikgdGhpcy5wYW5lbFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuXHRcdGlmICh0aGlzLnJlY29yZGluZ0FjdGl2aXR5U3ViKSB0aGlzLnJlY29yZGluZ0FjdGl2aXR5U3ViLnVuc3Vic2NyaWJlKCk7XG5cdH1cblxuXHQvKipcblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRjbG9zZSgpIHtcblx0XHR0aGlzLnBhbmVsU2VydmljZS50b2dnbGVQYW5lbChQYW5lbFR5cGUuQUNUSVZJVElFUyk7XG5cdH1cblxuXHQvKipcblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRfb25TdGFydFJlY29yZGluZ0NsaWNrZWQoKSB7XG5cdFx0dGhpcy5vblN0YXJ0UmVjb3JkaW5nQ2xpY2tlZC5lbWl0KCk7XG5cdH1cblxuXHQvKipcblx0ICogQGludGVybmFsXG5cdCAqL1xuXHRfb25TdG9wUmVjb3JkaW5nQ2xpY2tlZCgpIHtcblx0XHR0aGlzLm9uU3RvcFJlY29yZGluZ0NsaWNrZWQuZW1pdCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbnRlcm5hbFxuXHQgKi9cblx0X29uRGVsZXRlUmVjb3JkaW5nQ2xpY2tlZChyZWNvcmRpbmdJZDogc3RyaW5nKSB7XG5cdFx0dGhpcy5vbkRlbGV0ZVJlY29yZGluZ0NsaWNrZWQuZW1pdChyZWNvcmRpbmdJZCk7XG5cdH1cblxuXHRwcml2YXRlIHN1YnNjcmliZVRvUGFuZWxUb2dnbGluZygpIHtcblx0XHR0aGlzLnBhbmVsU3Vic2NyaXB0aW9uID0gdGhpcy5wYW5lbFNlcnZpY2UucGFuZWxPcGVuZWRPYnMuc3Vic2NyaWJlKFxuXHRcdFx0KGV2OiBQYW5lbEV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmIChldi50eXBlID09PSBQYW5lbFR5cGUuQUNUSVZJVElFUyAmJiAhIWV2LmV4cGFuZCkge1xuXHRcdFx0XHRcdHRoaXMuZXhwYW5kZWRQYW5lbCA9IGV2LmV4cGFuZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIHN1YnNjcmliZVRvQWN0aXZpdGllc1BhbmVsRGlyZWN0aXZlKCkge1xuXHRcdHRoaXMucmVjb3JkaW5nQWN0aXZpdHlTdWIgPSB0aGlzLmxpYlNlcnZpY2UucmVjb3JkaW5nQWN0aXZpdHkuc3Vic2NyaWJlKCh2YWx1ZTogYm9vbGVhbikgPT4ge1xuXHRcdFx0dGhpcy5zaG93UmVjb3JkaW5nQWN0aXZpdHkgPSB2YWx1ZTtcblx0XHRcdHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG5cdFx0fSk7XG5cdH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJwYW5lbC1jb250YWluZXJcIiBpZD1cImFjdGl2aXRpZXMtY29udGFpbmVyXCIgZnhMYXlvdXQ9XCJjb2x1bW5cIiBmeExheW91dEFsaWduPVwic3BhY2UtZXZlbmx5IG5vbmVcIj5cblx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRlci1jb250YWluZXJcIiBmeEZsZXg9XCI1NXB4XCIgZnhMYXlvdXRBbGlnbj1cInN0YXJ0IGNlbnRlclwiPlxuXHRcdDxoMyBjbGFzcz1cInBhbmVsLXRpdGxlXCI+QWN0aXZpdGllczwvaDM+XG5cdFx0PGJ1dHRvbiBjbGFzcz1cInBhbmVsLWNsb3NlLWJ1dHRvblwiIG1hdC1pY29uLWJ1dHRvbiBtYXRUb29sdGlwPVwie3sgJ1BBTkVMLkNMT1NFJyB8IHRyYW5zbGF0ZSB9fVwiIChjbGljayk9XCJjbG9zZSgpXCI+XG5cdFx0XHQ8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxuXHRcdDwvYnV0dG9uPlxuXHQ8L2Rpdj5cblxuXHQ8ZGl2IGNsYXNzPVwiYWN0aXZpdGllcy1ib2R5LWNvbnRhaW5lclwiIGZ4RmxleD1cIjc1JVwiIGZ4TGF5b3V0QWxpZ249XCJzcGFjZS1ldmVubHkgbm9uZVwiPlxuXHRcdDxtYXQtYWNjb3JkaW9uPlxuXHRcdFx0PG92LXJlY29yZGluZy1hY3Rpdml0eVxuXHRcdFx0XHQqbmdJZj1cInNob3dSZWNvcmRpbmdBY3Rpdml0eVwiXG5cdFx0XHRcdGlkPVwicmVjb3JkaW5nLWFjdGl2aXR5XCJcblx0XHRcdFx0W2V4cGFuZGVkXT1cImV4cGFuZGVkUGFuZWwgPT09ICdyZWNvcmRpbmcnXCJcblx0XHRcdFx0KG9uU3RhcnRSZWNvcmRpbmdDbGlja2VkKT1cIl9vblN0YXJ0UmVjb3JkaW5nQ2xpY2tlZCgpXCJcblx0XHRcdFx0KG9uU3RvcFJlY29yZGluZ0NsaWNrZWQpPVwiX29uU3RvcFJlY29yZGluZ0NsaWNrZWQoKVwiXG5cdFx0XHRcdChvbkRlbGV0ZVJlY29yZGluZ0NsaWNrZWQpPVwiX29uRGVsZXRlUmVjb3JkaW5nQ2xpY2tlZCgkZXZlbnQpXCJcblx0XHRcdD48L292LXJlY29yZGluZy1hY3Rpdml0eT5cblx0XHQ8L21hdC1hY2NvcmRpb24+XG5cdDwvZGl2PlxuPC9kaXY+XG4iXX0=