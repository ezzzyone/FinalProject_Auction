<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
          PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
          
	<mapper namespace="com.im.home.wholesale.WholeSaleMapper">

		<insert id="setAdd" parameterType="WholeSaleVO">
		INSERT INTO SALE(saleNum, rn, saleDate, whsalCd, whsalName, cmpCd, cmpName, large, largeName, mid, midName,
		small, smallName, totQty, totAmt, minAmt, maxAmt, avgAmt)
		VALUES (null,#{rn}, #{saleDate}, #{whsalCd}, #{whsalName}, #{cmpCd}, #{cmpName}, #{large}, #{largeName}, #{mid}, #{midName},
		#{small}, #{smallName}, #{totQty}, #{totAmt}, #{minAmt}, #{maxAmt}, #{avgAmt})
		</insert> 
	
 		<select id="getList" resultType="WholeSaleVO" parameterType="Pager">
		 SELECT * FROM SALE
		 WHERE whsalCd=#{whsalCd} AND saleDate BETWEEN #{saleDateStart} AND #{saleDateEnd} AND `large` LIKE concat ('%',#{largeCd},'%')
		 LIMIT #{startRow}, #{perPage}
		 </select>
		 
		 <delete id="deleteList" parameterType="String">
		  DELETE FROM SALE WHERE saleDate=#{saleDate}
		 </delete>
		 
		 <select id="getListCount" resultType="Long" parameterType="Pager">
		 SELECT COUNT(*) FROM SALE
		 WHERE whsalCd=#{whsalCd} AND saleDate BETWEEN #{saleDateStart} AND #{saleDateEnd} AND `large` LIKE concat ('%',#{largeCd},'%')
		 </select>
		
		 
	</mapper>